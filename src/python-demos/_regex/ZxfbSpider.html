<!DOCTYPE html >












 <script>
    var chatPath = 'https://chatapi.so-gov.cn/'
 </script>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="referrer" content="no-referrer-when-downgrade">

                <meta name="SiteIDCode" content="bm36000002">
                <meta name="SiteName" content="国家统计局">
                <meta name="SiteDomain" content="www.stats.gov.cn">

    <title>国家统计局智能云搜索</title>
        <link rel="icon" href="https://file.so-gov.cn/cps/pro/bm36000002/searchConf/8af3a74ede48e250ceb935c026242483.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="https://p.so-gov.cn/custom/bm36000002/css/list.css">
    <link rel="stylesheet" type="text/css" href="https://p.so-gov.cn/custom/bm36000002/css/index.css">
    <link rel="stylesheet" type="text/css" href="https://p.so-gov.cn/pc/css/laydate.css">
    <link rel="stylesheet" type="text/css" href="https://p.so-gov.cn/pc/css/jquery-ui-min.css">
    <link rel="stylesheet" href="https://p.so-gov.cn/skin/result?siteCode=bm36000002">


        <link rel="stylesheet" href="https://p.so-gov.cn/custom/bm36000002/css/head_w.css">

    <script type="text/javascript" src="https://p.so-gov.cn/pc/js/jquery.min.js"></script>
    <script type="text/javascript" src="https://p.so-gov.cn/pc/js/jquery.cookie.js"></script>
    <script type="text/javascript" src="https://p.so-gov.cn/pc/js/laydate.js"></script>
    <script type="text/javascript" src="https://p.so-gov.cn/pc/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="https://p.so-gov.cn/pc/js/jquery.SuperSlide.2.1.3.js"></script>
    <script type="text/javascript" src="https://p.so-gov.cn/common/js/common.js"></script>
    <script type="text/javascript" src="https://p.so-gov.cn/pc/js/jquery.pagination.js"></script>
    <script type="text/javascript" src="https://p.so-gov.cn/pc/js/datatables.min.js"></script>
    <script type="text/javascript" src="https://p.so-gov.cn/pc/js/list.js"></script>
    <script type="text/javascript" src="https://p.so-gov.cn/pc/js/searchbox.js"></script>
    <script type="text/javascript" src="https://p.so-gov.cn/pc/js/echarts.min.js"></script>

<style>

</style>

    <script>
        var lang = {}
        lang['0'] = '<p>很抱歉！未能搜到您想要的内容</p><p>建议您：</p><p>1. 看看输入的文字是否有错误</p><p>2. 去掉可能不必要的词或条件</p>'
        lang['201'] = '搜索词为空'
        lang['203'] = '搜索词过长，搜索系统保留前60个字进行搜索。'
    </script>

</head>

<body>

<div class="home">
    <div class="main">

<div class="head-bottom">
    <div class="small-head-bottom">
        <div class="small-head-bottom-left">
            <a href="http://www.stats.gov.cn/" target="_blank" record="false"><img src="https://p.so-gov.cn/custom/bm36000002/image/logo.png" alt=""></a>
        </div>
        <div class="small-head-bottom-right">
            <div class="head-right">
                <a href="http://www.stats.gov.cn/hd/jzxx/" target="_blank" record="false"><img src="https://p.so-gov.cn/custom/bm36000002/image/email.png" class="email-icon"></a>
                <a href="http://www.stats.gov.cn/wzgl/rss/202302/t20230217_1912859.html" target="_blank" record="false"><img src="https://p.so-gov.cn/custom/bm36000002/image/email2.png" class="email2-icon"></a>
                <a id="toolbarSwitch" src="javascript:void(0)" record="false"><img src="https://p.so-gov.cn/custom/bm36000002/image/ly.png" class="ly-icon"></a>
                <a href="http://www.stats.gov.cn/hd/xmt/202302/t20230217_1912856.html" target="_blank" record="false"><img src="https://p.so-gov.cn/custom/bm36000002/image/app.png" class="app-icon"></a>
                <a href="http://www.stats.gov.cn/znwd/" target="_blank" record="false"><img src="https://p.so-gov.cn/custom/bm36000002/image/xl.png" class="xl-icon"></a>
                <a href="http://weibo.com/nbsstatistics" target="_blank" record="false"><img src="https://p.so-gov.cn/custom/bm36000002/image/wb.png" class="wb-icon"></a>
                <a href="http://www.stats.gov.cn/hd/xmt/202302/t20230217_1912856.html" target="_blank" record="false"><img src="https://p.so-gov.cn/custom/bm36000002/image/vx.png" class="vx-icon"></a>
                <a href="http://www.stats.gov.cn/english/" target="_blank" record="false"><img src="https://p.so-gov.cn/custom/bm36000002/image/en.png" class="en-icon"></a>
            </div>
            <div class="right-top-div">
                <div action="s">
                    <input type="hidden" name="siteCode" id="siteCode" value="bm36000002">
                    <input type="hidden" name="tab" id="tab" value="all">
                        <input type="text" class="searchtxt" name="qt" id="qt" value="70个大中城市商品住宅销售价格变动情况"
                               autocomplete="off">
                    <div class="head-search-btn" >
                        <span id="searchBtn" onclick="go()">搜索</span>
                        <span class="dj-c-hr">|</span>
                            <span class="searchad">
                                <a record="false" href="javascript:void(0);"
                                   class="searchad_gj"> 高级</a>
                            </span>
                    </div>

                    <div class="searchul" id="ulSearchList">
                    </div>
                </div>
            </div>


                <div class="right-bottom-div">
                    <span>热搜词：</span>
                        <span class="hot-word"><a record="false"
                                                  href="s?tab=all&siteCode=bm36000002&qt=%E7%BB%9F%E8%AE%A1%E5%B9%B4%E9%89%B4"
                                                  record="false" title="统计年鉴">统计年鉴</a></span>&nbsp;&nbsp;
                        <span class="hot-word"><a record="false"
                                                  href="s?tab=all&siteCode=bm36000002&qt=GDP"
                                                  record="false" title="GDP">GDP</a></span>&nbsp;&nbsp;
                        <span class="hot-word"><a record="false"
                                                  href="s?tab=all&siteCode=bm36000002&qt=%E5%9F%8E%E4%B9%A1%E5%88%92%E5%88%86%E4%BB%A3%E7%A0%81"
                                                  record="false" title="城乡划分代码">城乡划分代码</a></span>&nbsp;&nbsp;
                        <span class="hot-word"><a record="false"
                                                  href="s?tab=all&siteCode=bm36000002&qt=%E4%BA%BA%E5%8F%A3"
                                                  record="false" title="人口">人口</a></span>&nbsp;&nbsp;
                        <span class="hot-word"><a record="false"
                                                  href="s?tab=all&siteCode=bm36000002&qt=CPI"
                                                  record="false" title="CPI">CPI</a></span>&nbsp;&nbsp;
                </div>
        </div>
    </div>
</div>


<div class="banner_line"></div>
<div class="layer"  style="display:none;"  ></div>
<div class="searchad_box"  style="display:none;"  >
    <div class="searchad_box_gj"  style="display:none;"  >
        <div class="title box">
                <a record="false" href="javascript:void(0);" class="searchad_gj_a on"> 高级 </a>
            <span class="close"></span>
        </div>
        <div class="condition_top">
            <div class="box">
                <div class="level"><span class="fir">搜索结果：</span> <span
                            class="sec">包含以下全部的关键词</span>
                    <input id="q1" type="text">
                </div>
                <div class="level"><span class="fir"></span> <span
                            class="sec">包含以下的完整关键词</span>
                    <input id="q2" type="text">
                </div>
                <div class="level"><span class="fir"></span> <span class="sec">包含以下任意一个关键词</span>
                    <input id="q3" type="text">
                </div>
                <div class="level"><span class="fir"></span> <span class="sec">不包含以下关键词</span>
                    <input id="q4" type="text">
                </div>
            </div>
        </div>
        <div class="condition_bottom">
            <div class="box clearfix">
                <div class="level"><span class="fir">文档格式：</span>
                    <label>
                        <input type="radio" name="fileType" value="" checked>
                        全部格式</label>
                    <label>
                        <input type="radio" name="fileType" value="word">
                        WORD</label>
                    <label>
                        <input type="radio" name="fileType" value="ppt">
                        PPT</label>
                    <label>
                        <input type="radio" name="fileType" value="excel">
                        EXCEL</label>
                    <label>
                        <input type="radio" name="fileType" value="pdf">
                        PDF</label>
                    <label>
                        <input type="radio" name="fileType" value="txt">
                        TXT</label>
                    <label>
                        <input type="radio" name="fileType" value="zip">
                        ZIP</label>
                </div>
                <div class="level timeradio"><span class="fir">时间范围：</span>
                    <label>
                        <input type="radio" name="days" value="" checked>
                        全部时间</label>
                    <label>
                        <input type="radio" name="days" value="365">
                        一年内</label>
                    <label>
                        <input type="radio" name="days" value="30">
                        一月内</label>
                    <label>
                        <input type="radio" name="days" value="7">
                        一周内</label>
                    <label>
                        <input type="radio" name="days" value="-1" class="zdyradio">
                        自定义</label>
                    <div class="zdydate clearfix"><span class="thi">从</span>
                        <input type="text" class="input200 dateicon" name="zdyqsrq" id="zdyqsrq">
                        <span class="thi">至</span>
                        <input type="text" class="input200 dateicon" name="zdyjsrq" id="zdyjsrq">
                    </div>
                </div>
                <div class="level"><span class="fir">排序方式：</span>
                    <label>
                        <input type="radio" name="sort" value="" checked>
                        按相关度排序 </label>
                    <label>
                        <input type="radio" name="sort" value="dateDesc">
                        按时间排序</label>
                </div>
                <div class="level"><span class="fir">搜索位置：</span>
                    <label>
                        <input type="radio" name="keyplace" value="" checked>
                        任何地方</label>
                    <label>
                        <input type="radio" name="keyplace" value="1">
                        仅标题</label>
                </div>
                <div class="level"><span class="fir">显示条数:</span>
                    <select name="pageSize" id="pageSize">
                        <option value="5"  >5</option>
                        <option value="10"  >10</option>
                        <option value="20"  selected  >20</option>
                    </select>
                </div>




                <input type="button" value="开始搜索" onClick="adv_search()">
                <span class="btn_prompt">请至少填写一个包含的关键词</span></div>
        </div>
    </div>
    <div class="searchad_box_zcwj"  style="display:none;"  >
        <div class="title box">
                <a record="false" href="javascript:void(0);" class="searchad_gj_a">高级 </a>


            <span class="close"></span></div>
        <div class="condition_top">
            <div class="box clearfix">
                <div class="level"><span class="fir">关 键 词：</span>
                    <input type="text" class="input610" id="word" value="70个大中城市商品住宅销售价格变动情况">
                </div>
                <div class="level"><span class="fir">发文机构：</span>
                    <input type="text" class="input610" id="docpubname" value="">
                </div>
                <div class="level"><span class="fir">发文字号：</span>
                        <input type="text" class="input200" id="docwz" value="" placeholder=""
                               onfocus="this.placeholder=''" onblur="this.placeholder=''">
                        <input type="text" class="input200" id="docnf" value="" placeholder=""
                               onfocus="this.placeholder=''" onblur="this.placeholder=''">
                    <input type="text" class="input200" id="docjtwh" style="width: 170px" value=""
                           placeholder="" onfocus="this.placeholder=''" onblur="this.placeholder=''">
                    <span class="thi">号</span>
                </div>

                <div class="level"><span class="fir">日　　期：</span>


                    <span class="thi">从</span>
                    <input type="text" class="input200 dateicon" style="width: 165px" value=""
                           name="qsrq" id="qsrq" placeholder="开始日期">
                    <span class="thi">至</span>
                    <input type="text" class="input200 dateicon" style="width: 165px" value=""
                           name="jsrq" id="jsrq" placeholder="结束日期">
                </div>
                <div class="level" style="display: none">
                    <span class="fir">主题分类：</span>
                    <select class="selone" id="ztflParentId">
                        <option value="">--请选择--</option>
                    </select>
                </div>
                <div class="level"><span class="fir">搜索位置：</span>
                    <span>
                      <label><input type="radio" name="keyPlacet"
                                    value="0" checked>全文</label>
                      <label><input type="radio" name="keyPlacet"
                                    value="1">标题</label>
                    </span>
                </div>
                <div class="level"><span class="fir">结果排序：</span>
                        <span id="">
                            <label><input type="radio" name="sortt"
                                          value="relevance"  checked>按相关度排序</label>
                            <label><input type="radio" name="sortt"
                                          value="dateDesc">按时间排序</label>
                        </span>

                </div>



                <input type="button" value="开始搜索" onclick="zcwj_search()">
            </div>
        </div>
    </div>
</div>

<div class="nav">
    <div class="box">
        <ul class="navmenu clearfix">
                <li class="on"></li>
        </ul>
    </div>
</div>
<script type="text/javascript">

    search('qt', 'ulSearchList', 'searchBtn');


    function go() {
        var qt = $("#qt").val();
        var tab = $("#tab").val();
        if (tab != zcTabName && (qt == null || qt === "")) {
            alert("请输入搜索条件");
            return;
        }

        var url = "";
        if (window.location.origin) {
            url = window.location.origin
        } else {
            url = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port : '')
        }
        url += window.location.pathname

        url = delParam(url, "qt")
        url = delParam(url, "siteCode")
        url = delParam(url, "tab")
        url = addParam(url, "qt", qt)
        url = addParam(url, "siteCode", $("#siteCode").val())
        url = addParam(url, "tab", tab)
        var sitePath = getParamVal(window.location.href, "sitePath")
        if (sitePath) {
            url = addParam(url, "sitePath", sitePath)
        }

        if ($.cookie("toolsStatus")) {
            url = delParam(url, "toolsStatus")
            url = addParam(url, "toolsStatus", $.cookie('toolsStatus'))
        }

        window.open(url, "_self");
    }

    function outside(url) {
        window.open(url, "_blank");
    }


    function adv_search() {
        var adv_list = ""


        var q1 = encodeURIComponent($("#q1").val()) || "";
        var q2 = encodeURIComponent($("#q2").val()) || "";
        var q3 = encodeURIComponent($("#q3").val()) || "";
        var q4 = encodeURIComponent($("#q4").val());
        if (q1 === "" && q2 === "" && q3 === "") {
            $(".btn_prompt").show();
            return false;
        } else {
            $(".btn_prompt").hide();
        }
        var sdate = $("#zdyqsrq").val() || "";
        var edate = $("#zdyjsrq").val() || "";

        var fileType = $("input[name='fileType']:checked").val();
        var days = $("input[name='days']:checked").val();
        var sort = $("input[name='sort']:checked").val();
        var keyplace = $("input[name='keyplace']:checked").val();
        var pageSize = $("#pageSize").val();

        var url = "adv?&siteCode=bm36000002&q1=" + q1 + "&q2=" + q2 + "&q3=" + q3 + "&q4=" + q4
            + "&days=" + days + "&fileType=" + fileType + "&keyPlace=" + keyplace
            + "&sdate=" + sdate + "&edate=" + edate + "&sort=" + sort + "&tab=" + site.tab + "&pageSize=" + pageSize;
        if (adv_list.length > 0) {
            adv_list.split(",").forEach(function (key, index) {
                var tempVal = $("#adv_" + key + "").val();
                if (tempVal) {
                    url += "&" + key + "=" + tempVal;
                }
            })
        }

        $.ajax({
            type: "get",
            url: 'https://p.so-gov.cn/' + url,
            success: function (data) {
                window.open(data, "_self");
            }
        });
    }

    function zcwj_search() {

        var doc_list = ""

        var word = encodeURIComponent($("#word").val()) || "";
        var sdate = $("#qsrq").val() || "";
        var edate = $("#jsrq").val() || "";
        var docpubname = $("#docpubname").val() || "";
        var docDateType = $("#docDateType").val() || "";
        var docwz = $("#docwz").val() || "";
        var docnf = $("#docnf").val() || "";
        var docjtwh = $("#docjtwh").val() || "";


        var sort = $("input[name='sortt']:checked").val();
        var keyplace = $("input[name='keyPlacet']:checked").val();

        var url = "s?&siteCode=bm36000002"
            + "&qt=" + word
            + "&tab=" + zcTabName
            + "&keyPlace=" + keyplace
            + "&docDateType=" + docDateType
            + "&docJtwh=" + docjtwh
            + "&startDateStr=" + sdate
            + "&endDateStr=" + edate +
            "&sort=" + sort
            + "&pubName=" + encodeURIComponent(docpubname)
            + "&docWz=" + encodeURIComponent(docwz)
            + "&docNf=" + docnf
            + "&toolsStatus=1";


        if ((sdate && sdate != "") || (edate && edate != "")) {
            url += "&timeOption=2"
        }

        if (doc_list.length > 0) {
            doc_list.split(",").forEach(function (key, index) {
                var tempVal = $("#doc_" + key + "").val()
                if (tempVal) {
                    url += "&" + key + "=" + tempVal
                }
            })
        }

        window.open(url, "_self");
    }

    $(".close").click(function () {
        $(".layer").hide();
        $(".searchad_box").slideUp();
    });

</script>
<script src="https://p.so-gov.cn/custom/tjzsk/js/esdToolsInit.js" OLDSRC="https://p.so-gov.cn/custom/tjzsk/js/esdToolsInit.js" OLDID="12717" RELATED="1"></script><div class="tools box clearfix" style="margin: 30px auto 0; position: relative;">

    <span class="nums" id="toolTotalId"></span>

    <div class="toolsshow"  style='display: none' >
        <div class="toolsbtn"><i></i>搜索工具</div>
    </div>
    <div class="toolshide"  style='display: block'>
        <div class="toolsnav">
                <div>
                    <span class="b">排序：</span>
                    <a record="false" href="javascript:void(0);"
                       class="on"
                       
                       onclick="searchTool({'sort':'relevance'})">按相关度</a>
                        <a record="false" href="javascript:void(0);"
                           class="noon" 
                           onclick="searchTool({'sort':'dateDesc'})">按日期</a>
                </div>
                <div>
                    <span class="b">搜索位置：</span>
                    <a record="false" id="key_place_context_id" href="javascript:void(0);"
                       class="on" 
                       onclick="searchTool({'keyPlace':0,'toolsStatus':1})">全文</a>
                    <a record="false" id="key_place_title_id" href="javascript:void(0);" class="noon" 
                       onclick="searchTool({'keyPlace':1,'toolsStatus':1})">标题</a>
                </div>

                <div class="toolsul">
                    <span>附件类型</span><i></i>
                    <ul id="fileType">
                        <li class="toolsli">不限</li>
                        <li class="toolsli">word</li>
                        <li class="toolsli">ppt</li>
                        <li class="toolsli">pdf</li>
                        <li class="toolsli">excel</li>
                        <li class="toolsli">txt</li>
                        <li class="toolsli">zip</li>
                    </ul>
                </div>

                    <div class="toolsul">
                        <span id="timesSpanId">时间不限</span><i></i>
                        <ul id="times">
                            <li class="toolsli">时间不限</li>
                            <li class="toolsli">一周内</li>
                            <li class="toolsli">一月内</li>
                            <li class="toolsli">一年内</li>
                            <li class="line"></li>
                            <li id="timesLiId">自定义</li>
                            <li>从
                                <input type="text" class="dateicon" name="utimeqsrq" autocomplete="off"
                                       value="" id="utimeqsrq">
                            </li>
                            <li>至
                                <input type="text" class="dateicon" name="utimeqsrq" autocomplete="off"
                                       value="" id="utimejsrq">
                            </li>
                            <li>
                                <input type="button" value="确定" class="zdybtn" id="datebtu">
                            </li>
                        </ul>
                    </div>
        </div>
        <div class="toolsbtn"><i></i>收起工具</div>
        <div class="filter" id="filter"></div>
    </div>
</div>

<script type="text/javascript">
    //搜索工具方法
    function searchTool(param) {

        for (var key in param) {
            toolParams[key] = param[key];
        }

        // 调用查询
        query();
    }

    //对应关系
    var maps = {"DOCNF": "docNf", "DOCWZ": "docWz", "DOCPUBNAME": "pubName"}

    var showNum =
        1 == parseInt('0')


    //多选工具
    function tag_left(tagList) {
        if (tagList && tagList.length > 0) {

            var $con = $("#con a");
            if ($con.length > 0 && tagParam.multiSelect){
                for (var m in tagList) {
                    var val = tagList[m];
                    tagParam.mapping[val.field] = val.display
                    if(!tagParam.param[val.field]){
                        $("#tag_"+ tagReplace(val.display)).after(leftTagFilterHtml(val))
                        $("#tag_"+ tagReplace(val.display)).remove()
                    } else if ($("#tag_"+ tagReplace(val.display)).length == 0){
                        $(".filtercontent").append(leftTagFilterHtml(val))
                        filterul();
                    }
                }
            } else {
                var dom = '<div class="filter-title">已选<span class="filter-con" id="con">';
                var filter = '</span>';
                filter += '<button id="empty" class="empty-btn" onclick="removeAllSel()">全部清空</button>';
                filter += '</div>';
                filter += '<div class="filtercontent">';

                for (var m in tagList) {

                    var val = tagList[m];
                    var result = val["result"];
                    var field = val["field"];
                    tagParam.mapping[field] = val.display

                    if (result && field == "DOCNF" && result.length == 1 && result[0].key == "0") {
                        continue;
                    }

                    filter += leftTagFilterHtml(val)
                }

                filter += '</div>';
                dom += filter;
                $("#filter").html(dom);
                filterul();
            }

            selectTag()
        }
    }


    function leftTagFilterHtml(val) {
        var filterItemHtml = "";
        var result = val["result"];
        var field = val["field"];

        if (result && result.length > 0) {

            // 记录 默认显示字段以及已存在字段
            if (val['default']) {
                if (tagParam.defaults.indexOf(field) == -1) {
                    tagParam.defaults.push(field);
                }
            } else {
                if (tagParam.exists.indexOf(field) == -1) {
                    tagParam.exists.push(field);
                }
            }

            filterItemHtml += '<div class="filter-item clearfix" id=tag_' + tagReplace(val["display"]) + '>';
            filterItemHtml += '<div class="filter-left">' + val["display"] + '：</div>';
            filterItemHtml += '<div class="filter-center">';
            filterItemHtml += '<ul class="clearfix">';


            var nuActiveLi = ""

            for (var i = 0; i < result.length; i++) {
                var key = result[i].key;
                var val = result[i].val;

                if (key == "0") {
                    continue;
                }

                if (!tagShowEmpty && "" == key && 1 == result.length){
                    return  ""
                }

                // 空是否展示
                var liStyle = ' style=\"display: ' + ("" == key ? (tagShowEmpty ? 'blank' : 'none') : 'blank') + '\" '
                if (showNum) {
                    nuActiveLi += '<li' + liStyle + '><a record="false" id="' + tagReplace(field + key) + '" data-value="' + field + '" onclick="recordTagHeight(\'' + field + '\',\'' + key + '\')" href="javascript:void(0);">' + key + '(' + val + ')' + '</a></li>';
                } else {
                    nuActiveLi += '<li' + liStyle + '><a record="false" id="' + tagReplace(field + key) + '" data-value="' + field + '" onclick="recordTagHeight(\'' + field + '\',\'' + key + '\')" href="javascript:void(0);">' + key + '</a></li>';
                }
            }

            filterItemHtml += nuActiveLi;

            filterItemHtml += '</ul>';
            filterItemHtml += '<a record="false" href="javascript:void(0);" class="more down fontlan" onclick="more(this)">更多</a>';
            filterItemHtml += '</div>';
            filterItemHtml += '</div>';
        }
        return filterItemHtml;
    }


    function removeAllSel() {
        $("#filter li a").removeClass("active");
        tagParam.exists.forEach(function (field) {
            $("#tag_" + tagReplace(tagParam.mapping[field])).remove()
            tagParam.param[field] = ''
        })
        tagParam.defaults.forEach(function (field) {
            $("#tag_" + tagReplace(tagParam.mapping[field])).remove()
            tagParam.param[field] = ''
        })
        tagParam.exists = []
        $("#con").html("")
        query()
    }

    function removeSel(field, value) {
        var href = window.location.search;
        href = delParam(href, "qt");
        href = delParam(href, "tab");
        href = delParam(href, "siteCode");
        href = addParam(href, "qt", qt);
        href = addParam(href, "tab", site.database);
        href = addParam(href, "siteCode", site.siteCode);

        var param = getParam(href, field);

        href = delParam(href, field);
        href = delParam(href, maps[field])

        if (param.indexOf(",") != -1) {
            var temp = "";
            param.split(",").forEach(function (item, index) {
                if (item != value) {
                    temp += item + ","
                }
            })
            temp = temp.substring(0, temp.length - 1)
            if (temp) {
                href = addParam(href, field, temp)
            }
        }

        window.location.href = href;
    }


</script>


<div id="loading" class="loading" style="display: none"></div>
<div class="contentbox box clearfix">

        <div id="assist_subjects_all" style="display: none">

    </div>
    <div id="scene_subjects_all" style="display: none">

    </div>
<div class="content fl">
    <div id="loading_background" class="loading_background"></div>


    <div class="result" id="tips_scene" style="display: none">
</div>

<div class="result" id="tips" style="display: none">
</div>

<script>

        function openUrl(tab, siteCode, name) {
        window.open("s?tab=" + tab + "&siteCode=" + siteCode + "&qt=" + encodeURIComponent(name), "_self")
    }

    function popularWorld() {
        toolParams['debug'] = 0;
        query()
    }
</script>
<script>
    function tips(qtObject) {


        var $tips = $("#tips");

        var htmlStr = '<i class=\'searchicon\'></i>';

        if (qtObject) {

            if (qtObject.code == 2) {

                $tips.html("搜索词过长，搜索系统保留前60个字进行搜索。");
                $tips.show()

            } else if (-1 == qtObject.code) {
                $tips.html("搜索词为空");
                $tips.show()

            } else if (qtObject.originQt) {
                qt.debug = qtObject.showQt
                qt.debugs = qtObject.debugs
                // 纠错词
                var htmlStr = '已显示“<em class="b">' + qtObject.showQt + '</em>”的搜索结果。';
                if (qtObject.debugs && qtObject.debugs.length > 0) {
                    htmlStr += '您想搜索：';
                    for (var i = 0; i < qtObject.debugs.length; i++) {
                        htmlStr += '<a record="false" href="s?qt=' + encodeURIComponent(qtObject.debugs[i]) + '&siteCode=' + site.siteCode + '&tab=' + site.tab + '&debug=0" ' +
                            'class="fontlan underline">' + qtObject.debugs[i] + '</a>';
                        if (i < qtObject.debugs.length - 1) {
                            htmlStr += "，"
                        }
                    }
                    htmlStr += "。"
                }

                htmlStr += '仍然搜索：     <a record="false" href="s?qt=' + encodeURIComponent(qtObject.originQt) + '&siteCode=' + site.siteCode + '&tab=' + site.tab + '&debug=0"';
                htmlStr += '      class="fontlan underline">' + qtObject.originQt + '</a>';
                $tips.html(htmlStr);
                $tips.show()

            } else if (qtObject.popularHs && Object.keys(qtObject.popularHs).length > 0) {
                // 通俗词
                var pWord = '';

                Object.keys(qtObject.popularHs).forEach(function (key) {
                    pWord += qtObject.popularHs[key] + ','
                });

                pWord = pWord.substr(0, pWord.length - 1);

                htmlStr += '您是不是要搜索' +
                    '        <a class="a_hand"  record="false" href="s?qt=' + encodeURIComponent(pWord) + '&siteCode=' + site.siteCode + '&tab=' + site.tab + '"' +
                    '           style=\'display:inline-block;\'>' +
                    '                <span>' +
                    '                    <em class=\'b\'> ' + pWord + '</em>' +
                    '                </span>' +
                    '        </a>' +
                    ' 或仅搜' +
                    '        <a record="false" class="a_hand"  href="javascript:void(0);" onClick="popularWorld()"' +
                    '           style=\'display:inline-block;\'>' +
                    '                <span>' +
                    '                    <em class=\'b\'>70个大中城市商品住宅销售价格变动情况</em>' +
                    '                </span>' +
                    '        </a>';

                $tips.html(htmlStr);
                $tips.show()

            }

            else {
                $tips.hide()

            }

        } else {
            $tips.hide()
        }


    }

    function sceneTips(sceneEntities) {


        var $tips = $("#tips_scene");

        var htmlStr = '<i class=\'searchicon\'></i>';

        if (sceneEntities && sceneEntities.length > 0) {

            htmlStr += '为您推荐：';
            for (var i = 0; i < sceneEntities.length && i < 5; i++) {
                var sceneEntity = sceneEntities[i]
                var sceneEntityName = sceneEntity.name;
                htmlStr += '<a record="false" href="s?qt=' + encodeURIComponent(sceneEntityName) + '&siteCode=' + site.siteCode + '&tab=' + site.tab + '&debug=0" class="fontlan underline">' + sceneEntityName + '</a>';
                if (i != (sceneEntities.length - 1)) {
                    htmlStr += "，"
                }
            }
            $tips.html(htmlStr);
            $tips.show()

        } else {
            $tips.hide()
        }


    }

    function Pinyin(word) {
        if (word && "" != word) {
            var htmlStr = '<i class=\'searchicon\'></i>您是不是要搜索' +
                '        <a class="a_hand"  record="false" href="s?qt=' + encodeURIComponent(word) + '&siteCode=' + site.siteCode + '&tab=' + site.tab + '"' +
                '           style=\'display:inline-block;\'>' +
                '                <span>' +
                '                    <em class=\'b\'> ' + word + '</em>' +
                '                </span>' +
                '        </a>';
            $("#tips").html(htmlStr);
            $("#tips").show()
        }
    }


</script><div id="proximity">

</div>

<script>

    function proximity(docs) {
        if (docs && docs.length > 0) {
            var htmlStr = '';
            for (var i = 0; i < docs.length; i++) {
                htmlStr += doc(docs[i])
            }

            $('#proximity').html(htmlStr);
        } else {
            $('#proximity').html('');
        }
    }
</script>

<div class="top_img msg" id="assist_frame" style="display: none;margin-bottom: 30px">
</div>

<script>
    function frames(frames, id) {
        if (frames && frames.length > 0) {
            if (!id) {
                id = 'assist_frame'
            }
            flag.assist = true
            var frameHtml = ''

            for (var i = 0; i < frames.length; i++) {
                var frame = frames[i]
                frameHtml += '<iframe frameborder=\'0\' scrolling=\'no\' src=\'' + frame.url + '\' height=\'' + frame.iframeHeight + '\' width=\'100%\'></iframe>'
                var source = frame.source;
                if (source && "" != source) {
                    frameHtml += '<div style="text-align: right; line-height: 0.875rem;font-size: 0.8125rem;font-weight: bold;">' + source + '</div>'
                }
            }

            $("#" + id).html(frameHtml)
            $("#" + id).show()


        }

    }
</script>

<style>

</style>
<div class="top_img msg" id="assist_top" style=" display:none;overflow: hidden;padding: 0px 0px 30px; max-width: 720px;">
</div>


<script>
    function topinfo(tops, id) {
        if (!id){
            id = 'assist_top';
        }
        if (tops && tops.length > 0) {
            var sceneType = 'TOP'
            flag.assist = true
            var topHtmlStr = "";
            for (var i = 0; i < tops.length; i++) {
                var top = tops[i];
                if (1 == top.type) {
                    continue
                }
                if (top.imgPath){
                    topHtmlStr += '<a href="' + top.url + '" target="_blank" title="' + top.name +'" sceneName="'+ top.name +'"  sceneType="'+ sceneType +'"> <img src="' + top.imgPath + '"/></a>'
                } else {
                    topHtmlStr += '<a href="' + top.url + '" target="_blank" title="' + top.name +'" sceneName="'+ top.name +'"  sceneType="'+ sceneType +'"><p style="text-align: center"> <font size="5">  ' + top.name + '</font></p></a>'
                }
            }
            $("#" + id).html(topHtmlStr)
            $("#" + id).show()
        }


    }
</script>
<div id="assist_subjects" style="display: none">

</div>

<div id="assist_persons" style="display: none;">
</div>




<div id="assist_orgs_left">

</div>
<div class="scene clearfix" id="assist_systems" style="display: none">
    <div class="captitle b">
        <i></i>系统入口
    </div>
    <div id="assist_slideBox3" class="slideBox3">
        <div class="bd">
            <ul id="assist_systemsLiList">
            </ul>
        </div>
        <div class="prev" id="assist_systems_prev" style="display: none;">
            <p></p>
        </div>
        <div class="next" id="assist_systems_next" style="display: none">
            <p></p>
        </div>
    </div>

</div>


<div id="scene_subjects" style="display: none">

</div>
<script>
    function subjects(subjects, type) {
        if (!type) {
            type = 'scene'
        }
        if (subjects && subjects.length > 0) {
            flag.scene = true;
            var htmlStr = "";
            for (var i = 0; i < subjects.length; i++) {
                var subject = subjects[i];

                var left = 0 == subject.type;


                if (left) {
                    htmlStr += '<div class="zhuanti zl">'
                } else {
                    flag.right = false;
                    htmlStr += '<div class="zhuanti tl">'
                }

                htmlStr +=
                    '                <div class="news pb0">' +
                    '                    <div class="content clearfix"';

                if (subject.subjectType && 1 == subject.subjectType) {
                    htmlStr += 'style="display:none" >'
                } else {
                    htmlStr += '>'
                }

                if (left) {

                    htmlStr += '                        <div id="slideBox2" class="slideBox2">'
                } else {
                    htmlStr += '                         <div id="slideBox1" class="slideBox1">'
                }
                '                            <div class="hd">' +
                '                                <ul>' +
                '                                </ul>' +
                '                            </div>';


                if (subject.subjectPicInfoList) {

                    htmlStr += '<div class="bd"><ul>';
                    for (var j = 0; j < subject.subjectPicInfoList.length; j++) {
                        var pic = subject.subjectPicInfoList[j];
                        if (pic.imgUrl && (pic.imgUrl.trim != "")) {
                            htmlStr += '<li><a href="' + pic.url + '" target="_blank"  sceneName="' + scene.name + '"  sceneType="' + scene.type + '"  title="' + (subject.name || "未知主题") + '"><img src="' + pic.imgUrl + '" title="' + pic.title + '"/></a></li>'
                        }
                    }
                    htmlStr += '</ul></div>';

                    if (subject.subjectPicInfoList.length > 1) {
                        htmlStr += '<div class="prev"> <p></p></div> <div class="next"><p></p></div>'
                    }

                }
                htmlStr += '</div>';

                if (subject.staticHtml) {
                    htmlStr += subject.staticHtml
                }

                htmlStr += '<ul class="list clearfix">';
                var rightCategroyList = subject.rightCategoryList;
                if (rightCategroyList && Object.keys(rightCategroyList).length > 0) {

                    Object.keys(rightCategroyList).forEach(function (name) {
                        Object.keys(rightCategroyList[name]).forEach(function (type) {
                            var rightCategorys = rightCategroyList[name][type];
                            for (var j = 0; j < rightCategorys.length; j++) {
                                var rightCategory = rightCategorys[j];
                                htmlStr += '<li class="w50"><i></i><span>'

                                if (3 == type) {
                                    htmlStr += '<a href="javascript:void(0)" onClick="opDialog(\'' + rightCategory.md5Title + '\',\'' + rightCategory.title + '\',\'' + rightCategory.categoryId + '\');return false;" title="' + rightCategory.title + '">'
                                } else{
                                    htmlStr += '<a href="' + rightCategory.url + '" target="_blank" title="' + rightCategory.title + '"  sceneName="' + scene.name + '"  sceneType="' + scene.type + '" >';
                                }

                                if (!rightCategory.title || "" == rightCategory.title) {
                                    htmlStr += '无标题'
                                } else {
                                    htmlStr += rightCategory.title
                                }
                                htmlStr += '</a></span></li>'
                            }
                        })
                    })

                }
                htmlStr += ' </ul></div></div>';


                var categoryMap = subject.categoryMap;
                if (categoryMap) {
                    var keys = Object.keys(categoryMap);

                    if (keys.length == 1) {
                        Object.keys(categoryMap).forEach(function (key) {
                            Object.keys(categoryMap[key]).forEach(function (categoryMapType) {
                                var values = categoryMap[key][categoryMapType];
                                if (values && values.length > 0) {
                                    htmlStr += '<ul class="list pb0 clearfix">';
                                    for (var j = 0; j < values.length; j++) {
                                        var value = values[j];
                                        if (value && value.title && "" != value.title) {
                                            htmlStr += '<li style="width: 100%"> <i></i>';
                                            if ("4" == categoryMapType && value.docDate) {
                                                htmlStr += '<span class="date">' + dateFormat(value.docDate) + '</span>'
                                            }

                                            if (3 == categoryMapType) {
                                                htmlStr += '<a href="javascript:void(0)" onClick="opDialog(\'' + value.md5Title + '\',\'' + value.title + '\',\'' + value.categoryId + '\');return false;" title="' + value.title + '">'
                                            } else{
                                                htmlStr += '<a href="' + value.url + '" target="_blank" title="' + value.title + '" sceneName="' + scene.name + '"  sceneType="' + scene.type + '" >';
                                            }

                                            if (!value.title || "" == value.title) {
                                                htmlStr += '无标题'
                                            } else {
                                                htmlStr += value.title
                                            }
                                            htmlStr += '</a></li>'
                                        }

                                    }
                                    htmlStr += '</ul>'
                                }
                            })
                        })

                    } else if (keys.length > 1) {
                        htmlStr += '<div class="tab clearfix"><div class="tabtitle">';
                        var indexFlag = true;

                        Object.keys(categoryMap).forEach(function (tabName) {
                            Object.keys(categoryMap[tabName]).forEach(function (type) {
                                if (categoryMap[tabName][type] && (categoryMap[tabName][type].length > 0)) {
                                    if (indexFlag) {
                                        htmlStr += '<a record="false" href="javascript:void(0);" class="on" >' + tabName + '</a>';
                                        indexFlag = false
                                    } else {
                                        htmlStr += '<a record="false" href="javascript:void(0);" >' + tabName + '</a>'
                                    }
                                }
                            })
                        });

                        htmlStr += '</div>';
                        htmlStr += '<div class="tabcontent">';
                        indexFlag = true;

                        Object.keys(categoryMap).forEach(function (tabName) {
                            Object.keys(categoryMap[tabName]).forEach(function (type) {
                                var values = categoryMap[tabName][type];
                                if (values && (values.length > 0)) {
                                    if (indexFlag) {
                                        htmlStr += '<ul class="list on" >';
                                        indexFlag = false
                                    } else {
                                        htmlStr += '<ul class="list" >'
                                    }
                                    for (var j = 0; j < values.length; j++) {
                                        var value = values[j];
                                        if (value && value.title && "" != value.title) {
                                            htmlStr += '<li style="width:100%"><i></i>';
                                            if ("4" == type && value.docDate) {
                                                htmlStr += ' <span class="date">' + dateFormat(value.docDate) + '</span>'
                                            }

                                            if (3 == type) {
                                                htmlStr += '<a href="javascript:void(0)" onClick="opDialog(\'' + value.md5Title + '\',\'' + value.title + '\',\'' + value.categoryId + '\');return false;" title="' + value.title + '">'
                                            } else{
                                                htmlStr += '<a href="' + value.url + '" target="_blank" title="' + value.title + '" sceneName="' + scene.name + '"  sceneType="' + scene.type + '"  >';
                                            }
                                            if (!value.title || "" == value.title) {
                                                htmlStr += '无标题'
                                            } else {
                                                htmlStr += value.title
                                            }
                                            htmlStr += '</a></li>'

                                        }
                                    }
                                    htmlStr += ' </ul>'

                                }
                            })
                        });

                        htmlStr += '</div>'
                    }
                }
                htmlStr += '</div></div>';

                if (left) {
                    $("#" + type + "_subjects").html(htmlStr);
                    $("#" + type + "_subjects").show()
                } else {
                    $("#" + type + "_subjects_all").html(htmlStr);
                    $("#" + type + "_subjects_all").show()
                }

                $(".zhuanti a").each(function () {
                    if (!$(this).attr('title')) {
                        $(this).attr('target', '_blank').attr("title", $(this).text()).attr('sceneName', scene.name).attr('sceneType', scene.type);
                    }
                })

            }


           event_subject_pics(type)

        }
    }

    function event_subject_pics(type){

        if (jQuery("#"+ type +"_subjects .slideBox1 li img").length > 1){
            jQuery("#"+ type +"_subjects .slideBox1").each(function(){
                var $this = jQuery(this);
                if($this.find("li img").length > 1){
                        $this.slide({
                            mainCell: ".bd ul",
                            titCell: ".hd ul",
                            effect: "leftLoop",
                            autoPlay: true,
                            interTime: 3000,
                            vis: 1,
                            autoPage: true
                        });
                }
            })
        }


        if (jQuery("#"+ type +"_subjects .slideBox2 li img").length > 1){
            jQuery("#"+ type +"_subjects .slideBox2").each(function(){
                var $this = jQuery(this);
                if($this.find("li img").length > 1){
                        $this.slide({
                            mainCell: ".bd ul",
                            titCell: ".hd ul",
                            effect: "leftLoop",
                            autoPlay: true,
                            interTime: 3000,
                            vis: 1,
                            autoPage: true
                        });
                }
            })
        }
    }
</script>
<div class="top_img msg" id="scene_frame" style="display: none;margin-bottom: 30px">
</div>
<div class="top_img msg" id="scene_top" style=" display:none;overflow: hidden;padding: 0px 0px 30px; max-width: 720px;">
</div>

<div id="scene_persons" style="display: none;">
</div>

<script>
    function persons(persons,type) {

        if (!type){
            type = 'scene'
        }
        if (persons && persons.length > 0) {
            var sceneType = 'PERSON'
            flag.assist = true
            var htmlStr = ""
            for (var i = 0; i < persons.length; i++) {
                var person = persons[i]
                htmlStr += '' +
                    '<div class="person">'
                    + '<div class="resume clearfix">'
                if (person.url) {
                    htmlStr += '' +
                        '<a href="' + person.url + '" target="_blank"'
                } else {
                    htmlStr += '<a'
                }
                htmlStr += ' title="' + person.name + '" sceneName="' + person.name + '"  sceneType="' + sceneType + '"'
                htmlStr +=
                    '   title="' + person.name + '">' +
                    '  <img src="' + person.standardImg + '" width="131" height="173"/>' +
                    '</a>'

                if (person.url) {
                    htmlStr += '' +
                        '<a href="' + person.url + '" target="_blank"'
                } else {
                    htmlStr += '<a'
                }

                htmlStr +=
                    '          title="' + person.name + '"   sceneName="' + person.name + '"  sceneType="' + sceneType + '" >' +
                    '                <p class="title b">' + person.name + '</p>' +
                    '            </a>'

                if (person.title) {
                    htmlStr += '<p class="txt b">' + person.title + '</p>'
                }

                if (person.memo) {
                    htmlStr += '<p class="txt">' + person.memo + '</p>'
                }


                htmlStr += '</div>'

                htmlStr += '<div class="tab clearfix">';

                // 选项卡开始
                var categoryMap = person.categoryMap;
                var tabNames = Object.keys(categoryMap);
                if (categoryMap && tabNames.length > 1) {
                    var indexFlag = true;
                    htmlStr += '<div class="tabtitle">'
                    tabNames.forEach(function (tabName) {
                        Object.keys(categoryMap[tabName]).forEach(function (type) {
                            if (categoryMap[tabName][type] && categoryMap[tabName][type].length > 0) {
                                if (indexFlag) {
                                    htmlStr += '<a href="javascript:void(0);" class="on">' + tabName + '</a>'
                                    indexFlag = false
                                } else {
                                    htmlStr += '<a href="javascript:void(0);" >' + tabName + '</a>'
                                }
                            }
                        })
                    })

                    htmlStr += '</div>'
                }
                // 选项卡结束

                // 选项卡列表 开始
                var indexFlag = true
                htmlStr += '<div class="tabcontent">'
                tabNames.forEach(function (tabName) {
                    Object.keys(categoryMap[tabName]).forEach(function (type) {
                        var values = categoryMap[tabName][type]
                        if (values && values.length > 0) {
                            if (indexFlag) {
                                htmlStr += '<ul class="list on"  >'
                                indexFlag = false;
                            } else {
                                htmlStr += '<ul class="list"  >'
                            }

                            for (var j = 0; j < values.length; j++) {
                                var value = values[j]
                                if (value && value.title && "" != value.title) {
                                    htmlStr += '<li>'
                                    if (type && "4" == type && value.docDate) {
                                        htmlStr += '<i></i><span class="date">' + dateFormat(value.docDate) + '</span>'
                                    }

                                    if (3 == type) {
                                        htmlStr += '<a href="javascript:void(0)" onClick="opDialog(\'' + value.md5Title + '\',\'' + value.title + '\',\'' + value.categoryId + '\');return false;" title="' + value.title + '">'
                                    } else{
                                        htmlStr += '<a href="' + value.url + '"  target="_blank" title="' + value.title + '" sceneName="' + person.name + '"  sceneType="' + sceneType + '" >'
                                    }

                                    if (!value.title || "" == value.title) {
                                        htmlStr += '无标题'
                                    } else {
                                        htmlStr += value.title
                                    }
                                    htmlStr += '</a></li>'

                                }

                            }
                            htmlStr += ' </ul>'

                        }
                    })
                })

                htmlStr += '</div>'
                // 选项卡列表 结束
                htmlStr += '</div></div>'
            }
            $("#"+type+"_persons").html(htmlStr);
            $("#"+type+"_persons").show()
        }
    }
</script>




<div id="scene_orgs_left">

</div>
<script>
    function orgs(orgs,type) {
        if (!type){
            type = 'scene'
        }
        if (orgs && orgs.length > 0) {
            var sceneType = 'ORG'

            var htmlStr = ""
            for (var i = 0; i < orgs.length; i++) {
                flag.assist = true
                var org = orgs[i]
                htmlStr += '<div class="unit">'
                htmlStr += '<div class="resume clearfix">'
                // 标题
                htmlStr +=
                    '                <div class="title b">' +
                    '                    <i></i><a href="' + org.url + '" target="_Blank" sceneName="' + org.name + '"  sceneType="' + sceneType + '" ' +
                    '                              title="' + org.name + '">' + org.name + '</a><span>官网</span>' +
                    '                </div>'

                // 图片
                htmlStr +=
                    '   <a href="' + org.url + '" target="_Blank" title="' + org.name + '" sceneName="' + org.name + '"  sceneType="' + sceneType + '" >' +
                    '        <img src="' + org.standardImg + '" width="350" height="80"/>' +
                    '    </a>'

                // 简介
                if (org.memo && (org.memo.trim().length > 50)) {
                    htmlStr += '<div class="txt fix2" >'
                } else {
                    htmlStr += '<div class="txt" >'
                }
                htmlStr += '<span><a href="' + org.url + '" target="_Blank" title="' + org.name + '" sceneName="' + org.name + '"  sceneType="' + sceneType + '" >' + org.memo + '</a></span></div></div>'


                htmlStr += '<div class="tab clearfix">'
                var tabNames = Object.keys(org.categoryMap);
                if (org.categoryMap && (tabNames.length > 0)) {
                    var categoryMap = org.categoryMap;
                    if (tabNames.length > 1) {
                        var indexFlag = true;
                        // 分类选项卡 开始
                        htmlStr += '<div class="tabtitle">'

                        tabNames.forEach(function (tabName) {
                            Object.keys(categoryMap[tabName]).forEach(function (type) {
                                if (categoryMap[tabName][type] && (categoryMap[tabName][type].length > 0)) {
                                    if (indexFlag) {
                                        htmlStr += '<a record="false" href="javascript:void(0);" class="on" >' + tabName + '</a>'
                                        indexFlag = false
                                    } else {
                                        htmlStr += '<a record="false" href="javascript:void(0);" > ' + tabName + '</a>'
                                    }
                                }
                            })
                        })

                        htmlStr += '</div>'
                        //分类选项卡 结束
                    }

                    htmlStr += '<div class="tabcontent">'
                    var indexFlag = true

                    tabNames.forEach(function (tabName) {
                        Object.keys(categoryMap[tabName]).forEach(function (type) {
                            var values = categoryMap[tabName][type];
                            if (indexFlag) {
                                htmlStr += ' <ul class="list on" >'
                                indexFlag = false
                            } else {
                                htmlStr += ' <ul  class="list" >'
                            }

                            for (var j = 0; j < values.length; j++) {
                                var value = values[j]
                                if (value && value.title && "" != value.title) {
                                    htmlStr += '<li><i></i>'
                                    if ("4" == type && value.docDate) {
                                        htmlStr += '<span class="date">' + dateFormat(value.docDate) + '</span>'
                                    }

                                    if (3 == type) {
                                        htmlStr += '<a href="javascript:void(0)" onClick="opDialog(\'' + value.md5Title + '\',\'' + value.title + '\',\'' + value.categoryId + '\');return false;" title="' + value.title + '">'
                                    } else{
                                        htmlStr += '<a href="' + value.url + '" target="_blank" title="' + value.title + '" sceneName="' + org.name + '"  sceneType="' + sceneType + '">'
                                    }

                                    if (!value.title || "" == value.title) {
                                        htmlStr += '无标题'
                                    } else {
                                        htmlStr += value.title
                                    }
                                    htmlStr += '</a></li>'

                                }
                            }
                            htmlStr += '</ul>'
                        })
                    })

                    htmlStr += '</div>'
                }

                htmlStr += '</div>'
                htmlStr += '</div>'
                htmlStr += '</div>'
            }

            $("#"+ type+"_orgs_left").html(htmlStr);
            $("#"+ type+"_orgs_left").show()

        }
    }
</script>
<div class="scene clearfix" id="scene_systems" style="display: none">
    <div class="captitle b">
        <i></i>系统入口
    </div>
    <div id="scene_slideBox3" class="slideBox3">
        <div class="bd">
            <ul id="scene_systemsLiList">
            </ul>
        </div>
        <div class="prev" id="scene_systems_prev" style="display: none;">
            <p></p>
        </div>
        <div class="next" id="scene_systems_next" style="display: none">
            <p></p>
        </div>
    </div>

</div>


<script>

    function systems(systems,type) {
        if (!type){
            type = 'scene'
        }
        if (systems && systems.length > 0) {
            var sceneType = 'SYS'
            flag.assist = true
            var htmlStr = ""
            for (var i = 0; i < systems.length; i++) {
                var system = systems[i]
                htmlStr +=
                    '<li>' +
                    '    <a href="' + system.url + '" target="_blank" title="' + system.name + '" sceneName="'+ system.name +'"  sceneType="'+ sceneType +'">' +
                    '        <img src="' + system.standardImg + '" title="' + system.name + '"/>' +
                    '     </a>' +
                    '</li>'
            }

            $( "#"+type+"_systemsLiList").html(htmlStr);
            $("#"+type+"_systems").show();
            if (systems.length > 2) {
                $("#"+type+"_systems_prev").show();
                $("#"+type+"_systems_next").show();
                jQuery("#"+type+"_slideBox3").slide({
                    mainCell: ".bd ul",
                    effect: "leftLoop",
                    autoPlay: true,
                    interTime: 3000,
                    vis: 2
                });
            }


        }
    }

</script>

<div id="categoryId" style="display: none">

</div>


<script>
    /**
     * 其他分类/信息列表[无时间]
     * @param title 标题
     * @param documents 结果列表
     */
    function infoListNoTime(title, documents) {
        var htmlStr = ''
        if (documents && documents.length > 0) {
             htmlStr +=
                '    <div class="scene clearfix">' +
                '        <div class="captitle b"><i></i>' + title + '</div>' +
                '        <ul class="list">'

            for (var i = 0; i < documents.length; i++) {
                var value = documents[i]

                htmlStr += '<li><i></i><a href="' + value.url + '" target="_blank" title="' + value.title + '" sceneName="'+ title +'"  sceneType="CATEGORY_INFO_NO_TIME">' + value.title + '</a></li>'

            }
            htmlStr += '</ul></div>'
        }
        return htmlStr
    }
</script>

<script>
    /**
     * 其他分类/信息列表[含时间]
     * @param title 标题
     * @param documents 结果列表
     */
    function infoList(title, documents) {
        var htmlStr = ''
        if (documents && documents.length > 0) {
             htmlStr =
                '    <div class="scene clearfix">' +
                '        <div class="captitle b"><i></i>' + title + '</div>' +
                '        <ul class="list">'

            for (var i = 0; i < documents.length; i++) {
                var value = documents[i]

                htmlStr += '<li><i></i>'
                if (value.docDate) {
                    htmlStr += '<span class="date">' + dateFormat(value.docDate) + '</span>'
                }
                htmlStr += '<a href="' + value.url + '" target="_blank" title="' + value.title + '" sceneName="'+ title +'"  sceneType="CATEGORY_INFO_TIME">' + value.title + '</a></li>'

            }
            htmlStr += '</ul></div>'

        }

        return htmlStr;

    }
</script>
<script>
    function category_ask(title, documents) {
        var htmlStr = ''
        if (documents && documents.length > 0) {
            htmlStr = '<div class="scene clearfix" >'
            htmlStr += '<div class="captitle b"><i></i>' + title + '</div>'
            htmlStr += '<div class="qa clearfix">'
            htmlStr += '<div class="question">'
            htmlStr += '<span>您的问题是： </span>'
            htmlStr += '<em onclick="moreQa(\' '+ qaConfig.moreIsPost+'\',\''+ qaConfig.moreUrl+'\',\'70个大中城市商品住宅销售价格变动情况\')">70个大中城市商品住宅销售价格变动情况</em>'
            htmlStr += '</div>'
            htmlStr += '<div class="answer">'
            htmlStr += '<div>为您找到以下答案：</div>'
            htmlStr += '<ul class="list">'
            for (var i = 0; i < documents.length && i < 5; i++) {
                var value = documents[i]
                htmlStr += '<li><i></i> <a href="' + value.url + '" target="_blank" title="' + value.title + '" sceneName="'+ title +'"  sceneType="CATEGORY_ASK">' + value.title + '</a></li>'
            }
            htmlStr += '</ul></div>'
            if (qaConfig.imgUrl  != "") {
                htmlStr += '<div class="znwdimg"><img src="'+qaConfig.imgUrl+'" width="111" height="31" alt=""/></div>'
            }

            htmlStr += '</div></div>'
        }

        return htmlStr
    }
</script>

<script>
    /**
     * 图解
     * @param title 标题
     * @param documents 结果列表
     */
    function imageList(title, documents) {
        var htmlStr = ''
        if (documents && documents.length > 0) {
            htmlStr = '<div class="scene clearfix pb0">'
            htmlStr += '<div class="captitle b"><i></i>' + title + '</div>'


            for (var i = 0; i < documents.length; i++) {
                htmlStr += '<div class="news clearfix">'
                htmlStr += '<div class="content">'
                var zcexplain = documents[i]
                if (zcexplain.thumbnail && (zcexplain.thumbnail.trim().length > 1)) {
                    htmlStr +=
                        '<a href="' + zcexplain.url + '" title="'+ zcexplain.title +'" target="_blank" sceneName="'+ title +'"  sceneType="CATEGORY_IMG_LIST">' +
                        '    <img src="data:image/png;base64,' + zcexplain.thumbnail + '" width="220" height="131" alt="' + zcexplain.title + '"/>' +
                        ' </a>'
                }
                htmlStr += '<div class="title">' +
                    '            <a href="' + zcexplain.url + '" class="fontlan" target="_blank" title="' + zcexplain.title + '" sceneName="'+ title +'"  sceneType="CATEGORY_IMG_LIST" >' + zcexplain.title + '</a>' +
                    '       </div>'
                if (zcexplain.summary && (zcexplain.summary.trim().length > 1)) {
                    htmlStr += '<div class="txtpic3">' + zcexplain.summary + '</div>'
                } else {
                    htmlStr += '<div class="txtpic3">' + zcexplain.title + '</div>'
                }

                if (zcexplain.docDate) {
                    htmlStr += '<div>' + dateFormat(zcexplain.docDate) + '</div>'
                }
                htmlStr += '</div></div>'

            }
            htmlStr += ' </div>'
        }

        return htmlStr;
    }
</script>
<script>
    function zcwjList(title, documents) {
        var htmlStr = ''
        if (documents && documents.length > 0) {

            htmlStr += '<div class="scene clearfix">'
            htmlStr += '<div class="captitle b"><i></i>'
            htmlStr += title
            htmlStr += '</div>'
            for (var j = 0; j < documents.length; j++) {
                var zcfile = documents[j]

                if (documents.length == 1) {
                    htmlStr += '<div class="zcwjbox">'
                    htmlStr += '<div class="title b">'
                    htmlStr += '<a href="' + zcfile.url + '" class="fontlan" target="_blank" title="' + zcfile.title + '" sceneName="' + title + '"  sceneType="CATEGORY_ZCWJ">' + zcfile.title + '</a>'
                    htmlStr += '</div>'
                    htmlStr += '<div class="rowtab">'
                    htmlStr += '<div class="row first clearfix">'
                    htmlStr += '<p class="w50"><span class="title">发文字号：</span><span class="txt">' + zcfile.docNo + '</span></p>'
                    if (zcfile.docDate) {
                        htmlStr += '<p class="w50"><span class="title">发布时间：</span><spanclass="txt">' + dateFormat(zcfile.docDate) + '</span></p>'
                    }
                    htmlStr += ' </div>'
                    htmlStr += '<div class="row">'
                    htmlStr += '<p><span class="title">发文机构：</span><span class="txt">' + zcfile.pubName + '</span></p>'
                    htmlStr += '</div>'
                    if (zcfile.zcjdMap.length > 0) {

                        htmlStr += '<div class="row zcjdlist clearfix">'
                        htmlStr += '<p class="zcjdtitle">政策解读：</p>'
                        htmlStr += ' <ul class="list">'

                        Object.keys(zcfile.zcjdMap).forEach(function (key) {
                            htmlStr += '<li><i></i> <a href="' + key + '" target="_blank" title="' + zcfile.zcjdMap[key] + '"  sceneName="' + title + '"  sceneType="CATEGORY_ZCWJ" >' + zcfile.zcjdMap[key] + '</a></li>'
                        })

                        htmlStr += '</ul>'

                        if (zcfile.zcjdMap.length > 0) {
                            htmlStr += '<a href="javascript:void(0)" class="more down fontlan">更多</a>'
                        }
                        htmlStr += ' </div>'

                    }
                    htmlStr += '</div></div>'
                } else if (documents.length > 1) {
                    if (0 == j) {
                        htmlStr += ' <ul class="list">'
                    }

                    if (zcfile && zcfile.title && "" != zcfile.title) {

                        htmlStr += '<li><i></i><span class="date">'

                        if (zcfile.docDate) {
                            htmlStr += dateFormat(zcfile.docDate)
                        }
                        htmlStr += '</span>'
                        htmlStr += '<a href="' + zcfile.url + '" target="_blank" title="' + zcfile.title + '">' + zcfile.title + '</a></li>'

                    }
                    if (documents.length - 1 == j) {
                        htmlStr += '</ul>'
                    }
                }
            }
            htmlStr += '</div>'

        }
        return htmlStr
    }
</script>
<script>
    function category_bszn(title, documents) {
        var htmlStr = ''
        if (documents && documents.length > 0) {
            htmlStr += '    <div class="scene clearfix"><div class="captitle b"><i></i>' + title + '</div>'

            htmlStr += '<div class="bsbox">'
            if (1 == documents.length) {
                var value = documents[0]
                htmlStr += '<div class="bstab">'
                    + '    <ul class="row clearfix">'
                    + '      <li class="clearfix"><span class="title">事项名称</span>'
                    + '        <span class="txt">'
                    + '          <a href="javascript:void(0)" onClick="opDialog(\'' + value.md5Title + '\',\'' + value.title + '\',\'' + value.categoryId + '\');return false;" title="' + value.title + '">' + value.title + '</a>'
                    + '         </span>'
                    + '        </li>';
                if (value.bsjgw && '' != value.bsjgw.trim()) {
                    htmlStr += '<li class="clearfix"><span class="title">结果物</span><span class="txt">' + value.bsjgw + '</span></li>'
                }
                htmlStr += '    </ul></div> '
            } else {
                htmlStr += '<ul class="list">'

                for (var i = 0; i < documents.length; i++) {
                    var value = documents[i];
                    htmlStr += '<li><i></i> <a href="javascript:void(0)" onClick="opDialog(\'' + value.md5Title + '\',\'' + value.title + '\',\'' + value.categoryId + '\');" title="' + value.title + '">' + value.title + '</a></li>'
                }

                htmlStr += '</ul>'
            }

            htmlStr += '</div></div>'
        }
        return htmlStr
    }
</script>


<script>

    function category(categoryMap) {
        if (categoryMap) {
            var keys = Object.keys(categoryMap)
            if (keys.length <= 0) {
                return
            }
            var htmlStr = ""
            keys.forEach(function (key) {
                var arr = key.split(":")
                var title = arr[0]
                var type = arr[1]

                switch (type) {
                    case "0":
                        htmlStr += infoListNoTime(title, categoryMap[key])
                        break
                    case "1":
                        htmlStr += zcwjList(title, categoryMap[key])

                        break
                    case "2":
                        htmlStr += imageList(title, categoryMap[key])

                        break
                    case "3":
                        htmlStr += category_bszn(title, categoryMap[key])

                        break
                    case "4":
                        htmlStr += infoList(title, categoryMap[key])

                        break
                    case "5":
                        htmlStr += category_ask(title, categoryMap[key])
                        break
                }
            })

            flag.scene = true
            $("#categoryId").html(htmlStr);
            $("#categoryId").show();
        }

    }

</script>

<div id="leftMapId" style="display: none">
</div>

<script>
    function map(mapinfos) {
        if (!mapinfos || 0 == mapinfos.length) {
            $("#leftMapId").html("")
        } else {
            flag.assist = true
            for (var i = 0; i < mapinfos.length; i++) {
                var mapInfo = mapinfos[i]
                $.ajax({
                    type: "post",
                    async: true,
                    url: url_basic + "map",
                    data: {
                        siteCode: site.siteCode,
                        tab: site.tab,
                        timestamp: token.timestamp,
                        wordToken: token.wordToken,
                        qt: qt.origin,
                        mapId: mapInfo.id,
                    },
                    dataType: "json",
                    success: function (data) {
                        // 搜索结果集大于0
                        if (data && data.success && data.resultList && data.resultList.length > 0) {
                            var htmlStr = ' <div class="scene clearfix" id="sceneLeftMapId">'
                            htmlStr += '<div class="captitle b"><i></i>' + mapInfo.name + '</div>'
                            htmlStr += '<div class="content clearfix">'

                            if (data.staticImg) {
                                //地图删除center 参数
                                data.staticImg = funcUrlDel(data.staticImg,"center")
                                htmlStr += '<div class="map"><img  src="' + data.staticImg + "&width=420&&height=328" + '" width="420" height="328"></div>'
                            }
                            htmlStr += ' <ul class="maplist" >'

                            data.resultList.forEach(function (item, index) {
                                if (index < 10) {
                                    htmlStr += '<li>'
                                    htmlStr += ' <p><i>' + (index + 1) + '.</i>' +
                                        '    <a href="' + item.url + '" class="fontlan" target="_blank" title="' + item.addr + '">' + item.name + '</a>' +
                                        ' </p>'
                                    if (item.tel && ''!=item.tel){
                                        htmlStr += '<p class="tel">电话 : '+ item.tel +'</p>'
                                    }
                                    htmlStr += '</li>'
                                }
                            })

                            if (data.moreUrl && '' != data.moreUrl) {
                                htmlStr += '<li><p class="tel"><a href="' + data.moreUrl + '" class="fontlan" target="_blank">查看全部结果</a></p></li>';
                            }

                            htmlStr += '</ul></div></div>'
                            $("#leftMapId").append(htmlStr)
                            $("#leftMapId").show()

                        }

                    }, error: function (err) {
                        console.error(err);
                    }
                });
            }
        }
    }

        // 删除url中某个参数,并跳转
    function funcUrlDel(url,name){
        var loca = url.split("?");
        var baseUrl = loca[0]+"?";
        var query = loca[1];
        if (query.indexOf(name)>-1) {
            var obj = {}
            var arr = query.split("&");
            for (var i = 0; i < arr.length; i++) {
                arr[i] = arr[i].split("=");
                obj[arr[i][0]] = arr[i][1];
            };
            delete obj[name];
            let temp = "";
            for(var key in obj){
                temp += key +"="+obj[key]+"&"
            }
            var url = baseUrl + temp;
            return url
        };
    }
</script>
<div class="top_img msg" id="ask_robot" style="display: none;margin-bottom: 30px"></div>

<script>
  function robotRobot(askWord, height, id) {
    return;
  }
</script>

<style></style>
    <div class="noresult" style="display: none">

            <p>很抱歉！未能搜到您想要的内容</p><p>建议您：</p><p>1. 看看输入的文字是否有错误</p><p>2. 去掉可能不必要的词或条件</p>

    </div>

    <div id="nullResultId" style="display: none;">
        <strong>无搜索结果,为您推荐以下内容:</strong>
        <ul id="nullResultList">
        </ul>
    </div>

<div class="topnews clearfix" id="news" style="display: none;"></div>
<script type="text/javascript">
    function news(resultList) {
        if (resultList && resultList.length > 0) {
            var dom = "";
            if (qt.debug) {
                dom += '<div class="captitle"><em>' + qt.debug + '</em>的最新相关消息</div>';
            } else {
                dom += '<div class="captitle"><em>' + qt.origin + '</em>的最新相关消息</div>';
            }


            dom += '<ul class="list">';
            for (var k = 0; k < resultList.length; k++) {
                var kv = resultList[k];

                if (k == 0 && kv.includeImg == true) {
                    var url = kv.url;
                    var img = undefined
                    if (kv.ossPath) {
                        img = kv.ossPath;
                    } else {
                         img = url_basic+ "img?reference=" + kv.reference + "&index=" + kv.dbName + "&type=1&imgType=.jpg&siteCode=" + site.siteCode;
                    }
                    dom += '<div class="news clearfix pb10">';
                    dom += '<div class="title">';
                    dom += '<a href="' + url + '" title="' + kv.title + '" class="fontlan" target="_blank">';
                    dom += kv.redTitle;
                    dom += '</a>';
                    dom += '</div>';
                    dom += '<div class="content">';
                    dom += '<a target="_blank" href="' + url + '" title="' + kv.title + '"><img src="' + img + '" width="140" height="83" alt=""/>';
                    dom += '</a>';
                    if (kv.summary) {
                        dom += '<div class="txtpic2">';
                        dom += kv.summary;
                        dom += '</div>';
                    }
                    dom += '<div>' + formatWithLang(kv.docDate) + '</div>';
                    dom += '</div>';
                    dom += '</div>';
                } else {
                    dom += '<li><span class="date">';
                    dom += kv.docDate;
                    dom += '</span><a target="_blank" href="' + kv.url + '" title="' + kv.title + '">' + kv.redTitle + '</a></li>';
                }

            }
            dom += '</ul>';
            $("#news").html(dom);
            $("#news").addClass("scene")
            $("#news").show()
        } else {
            $("#news").removeClass("scene")
            $("#news").hide()
        }
    }
</script>
<div id="relatedPicId" style="display: none" class="news clearfix"></div>
<div id="relatedVideoId" style="display: none" class="news clearfix"></div>

<script type="text/javascript">
    var constant_video = "video";
    var constant_pic = "pic";


    function genPicOrVidioHtmlStr(type, resultList) {
        var tab = $("#tab").val()

        var html = '<div class="title">';

        if (type == constant_video) {
            html += '<span>相关视频</span>'
        } else {
            html += '<span>相关图片</span>'
        }
        // html += '<a href="s?siteCode=' + siteCode + '&tab=' + tab + '"&qt=' + qt + '" class="fontlan">' + qt + '</a>'
        html += '</div>'

        ///// 主体列表
        html += '<div class="picxg clearfix" id="picxg">'
        html += '  <ul class="clearfix">'

        $.each(resultList, function (k, kv) {
            html += '<li class="' + type + '">'
            html += '  <a href="'+ kv.url +'" target="_blank" title="' + kv.title + '">'
            if (kv.ossPath && "" != kv.ossPath) {
                html += '    <img src="'+ kv.ossPath + '" title="' + kv.title + '" alt="' + kv.title + '">'
            } else {
                html += '    <img src="'+ url_basic +'img?reference=' + kv.reference + '&index=' + kv.indexDB + '&type=1&imgType=.jpg&siteCode=' + site.siteCode + '" title="' + kv.title + '" alt="' + kv.title + '">'
            }
            html += '<span>' + kv.title + '</span>'
            if (type == constant_video) {
                html += '<span class="play"></span>';
            }
            html += '</li>'

        });

        html += '  </ul>'
        html += '</div'
        return html;
    }

    // 相关图片搜索
    function imgSearch(data) {
        if (data && data.length > 0) {
            $("#relatedPicId").html(genPicOrVidioHtmlStr(constant_pic, data));
            $("#relatedPicId").show();
            magnify("picxg", "a", "." + constant_pic);
        } else {
            $("#relatedPicId").hide();
        }
    }

    // 相关视频搜索
    function videoSearch(data) {
        if (data && data.length > 0) {
            $("#relatedVideoId").html(genPicOrVidioHtmlStr(constant_video, data));
            $("#relatedVideoId").show();
            magnify("picxg", "a", "." + constant_video);
        } else {
            $("#relatedVideoId").hide();
        }
    }


</script>
<div id="union">

</div>

<script>

    function union(unions) {

        if (unions && unions.length > 0) {
            var htmlStr = '';
            var showFlag = false;
            for (var i = 0; i < unions.length; i++) {
                var unionObj = unions[i]
                var name = unionObj.tab
                var chname = unionObj.tabName
                var results = unionObj.resultList
                if (results) {
                    showFlag = showFlag || results.length > 0;
                    if (results.length > 0) {
                        if (0 != i) {
                            htmlStr += "<div style='border-top: 1px solid #ccc; padding-top: 12px'>";
                        }
                        htmlStr += '<div class="captitleh1">' + chname + '<a record="false" href="s?siteCode=bm36000002&tab=' + name + '&qt=70%E4%B8%AA%E5%A4%A7%E4%B8%AD%E5%9F%8E%E5%B8%82%E5%95%86%E5%93%81%E4%BD%8F%E5%AE%85%E9%94%80%E5%94%AE%E4%BB%B7%E6%A0%BC%E5%8F%98%E5%8A%A8%E6%83%85%E5%86%B5" target="_blank" title="查看更多">查看更多</a></div>';
                        for (var j = 0; j < results.length; j++) {
                            var result = results[j]
                            htmlStr += '<div class="news clearfix">' +
                                '<div class="title">'
                            if (!result.banshi) {
                                htmlStr += '<a href="' + result.url + '" target="_blank" class="fontlan" title="' + result.title + '">' + result.redTitle + '</a>';
                            } else {
                                htmlStr += '<a class="fr" style="font-size: 12px"  record="false" href="javascript:void(0)" onclick="opDialog(\'' + result.md5Title + '\',\'' + result.title + '\',' + undefined + ',\'' + name + '\')" class="fontlan"> 选择地域</a>'
                                htmlStr += '<a record="false" href="javascript:void(0)" onclick="opDialog(\'' + result.md5Title + '\',\'' + result.title + '\',' + undefined + ',\'' + name + '\')" class="fontlan">' + result.redTitle + '</a>'
                            }

                            htmlStr += '</div></div>'
                        }
                        if (0 != i) {
                            htmlStr += "</div>"
                        }
                    }
                }
            }

            if (showFlag) {
                htmlStr += "<div style='border-top: 1px solid #ccc; padding-bottom: 12px'></div>";
                $("#union").html(htmlStr)
            }

        } else {
            $("#union").html('')
        }

    }

</script>

<style>
    #union .news {
        padding-bottom: 5px;
        line-height: 14px;
    }
</style>
<div id="results">

</div>

<script>

    var relevance = '1' == '0';
    var combinType = 'MD5TITLE';
    var displayType = parseInt('0');
    var openParent = '1' == parseInt('1');

    /**
     * 结果列表处理
     * @param docs
     */
    function docs(docs) {
        if (docs && docs.length > 0) {
            var htmlStr = '';
            for (var i = 0; i < docs.length; i++) {
                htmlStr += doc(docs[i])
            }

            $('#results').html(htmlStr);

            // 办事模板
            if ($(".rowtab .bstab").length > 0) {
                $(".rowtab .bstab").parent().removeClass("rowtab")
            }


            $(".row .txt:contains('-')").each(function () {
                if ("-" == $(this).text()) {
                    $(this).parent().hide()
                }
            });

            $(".rowtab .row").each(function () {
                var flag = true;
                $(this).children("p").each(function () {
                    if ("none" != $(this).css("display")) {
                        flag = false;
                    }
                });
                if (flag) {
                    $(this).css("border-bottom", "0px")
                }
            });

            $('#gotoTopId').click();

            //政策文件单条更多
            $(".zcjdlist .more").click(function () {
                var txt = $(this).html();
                if (txt == "更多") {
                    $(this).siblings("ul").height("auto");
                    $(this).html("收起");
                    $(this).removeClass("down");
                    $(this).addClass("up");
                } else {
                    $(this).siblings("ul").height("23");
                    $(this).html("更多");
                    $(this).removeClass("up");
                    $(this).addClass("down");
                }
            });

            $('.rowtab .zcjdlist').each(function () {
                var $zc = $(this);
                var $ul = $zc.children('ul');
                if ($ul.length == 0) {
                    $zc.remove()
                } else {
                    $ul.children("li").each(function () {
                        $(this).children("a").each(function () {
                            if ($(this).text().trim() == "") {
                                $(this).parent().hide()
                            }
                        })
                    })
                }
            })

        }
    }

    var noShowDisplayDb = ['weixin', "weibo"];

    /**
     * 单个结果显示
     * @param doc
     */
    function doc(doc) {
        var htmlStr = "";

        // 文件logo
        function fileIcon() {
            if (hasFileType) {
                switch (doc.fileType) {
                    case "rar":
                        htmlStr += ' <i class="zip"></i>';
                        break;
                    default:
                        htmlStr += ' <i class="' + doc.fileType + '"></i>';
                        break
                }
            }
        }

        // combin排重
        function combinHtml() {
            // 政务服务不显示办事
            if (showZwfw && doc.banshi) {
                return
            }

            if ("" != combinType && doc.combins > 1) {
                htmlStr +=
                    '<div class="xsxx">' +
                    '    <a record="false" onclick="combin(\'' + doc.md5Url + '\',\'' + doc.md5Title + '\',\'' + doc.reference + '\')"' +
                    '       href="javascript:void(0);" class="fontlan down">' +
                    '        相似信息' +
                    '        <span class="fonthong">' + (doc.combins - 1) + '</span>条' +
                    '    </a>' +
                    '</div>' +
                    '<div class="xsxxDialog" id="' + doc.md5Url + doc.md5Title + '" style="display: none" >';
                htmlStr += '</div>'
            }
        }

        // 办事排重
        function zwfwHtml() {
        }

        function parentUrlHtml() {
            if (openParent && doc.parentUrl && "" != doc.parentUrl) {
                htmlStr +=
                    '<div style="float: right">' +
                    '    <a record="false" href="' + doc.viewUrl + '"  target="_blank" class="fontlan">' +
                    '        【下载】' +
                    '    </a>' +
                    '</div>';
                return true
            }
            return false;
        }

        if (doc) {
            var hasFileType = doc.fileType && "html" != doc.fileType;
            // 结果类型 0: 结构化搜索展示 1: 带图信息 2: 附件 3: 普通
            switch (doc.type) {
                case 0:
                    htmlStr +=
                        '<div class="scene clearfix">' +
                        '    <div class="news pb0 clearfix">';

                    var fileReplace = parentUrlHtml();
                    zwfwHtml();

                    // 标题div 开始
                    htmlStr += '<div class="title">';
                    if (doc.displayDb && "" != doc.displayDb && noShowDisplayDb.indexOf(doc.fileType) == -1) {
                        htmlStr += '<span> ' + doc.displayDb + '</span>'
                    }

                    if (showZwfw && doc.banshi) {
                        htmlStr += '<a record="false" href="javascript:void(0)" onclick="opDialog(\'' + doc.md5Title + '\',\'' + doc.title + '\')"  title="' + doc.title + '">' + doc.disPlayTitle + '</a>'
                    } else {
                        if (fileReplace && doc.parentUrl && "" != doc.parentUrl) {
                            htmlStr += '<a href="' + doc.parentUrl + '" target="_blank" class="fontlan" title="' + doc.title + '">' + doc.disPlayTitle + '</a>'
                        } else {
                            htmlStr += '<a href="' + doc.viewUrl + '" target="_blank" class="fontlan" title="' + doc.title + '">' + doc.disPlayTitle + '</a>'
                        }
                    }

                    htmlStr += '</div>';
                    // 标题div 结束
                    // 摘要
                    if (doc.summary && displayType >= -1 && "" != doc.summary) {
                        // htmlStr += '<div class="rowtab">' + doc.summary + '</div>'
                        var summeryHtml = buildhtml(doc.summary);
                        if (summeryHtml && "" != summeryHtml.trim()) {
                            htmlStr += '<div class="rowtab">' + summeryHtml + '</div>'
                        }
                    }

                    // 主题
                    if (displayType == 0) {
                        htmlStr += '<div class="content"><div>';
                        htmlStr += doc.siteName;
                        if ("1970-01-01" != doc.docDate) {
                            if (doc.siteName && "" != doc.siteName) {
                                htmlStr += "-" + formatWithLang(doc.docDate)
                            } else {
                                htmlStr += formatWithLang(doc.docDate)
                            }
                        }


                        if (relevance) {
                            htmlStr += '&nbsp;<span class="color_related_degree"> 相关度：' + doc.weight + '</span>'
                        }

                        if (doc.snapshoot) {
                            htmlStr += '&nbsp;-&nbsp; <a record="false" href="' + doc.snapshoot + '&siteCode=bm36000002&tab=all" target="_blank" class="color_related_degree fontlan">快照</a>'
                        }


                        combinHtml();
                        htmlStr += '</div></div>'

                    }
                    htmlStr += '</div></div>';
                    break;
                case 1:
                    htmlStr += '<div class="news clearfix">';
                    var fileReplace = parentUrlHtml();
                    zwfwHtml();
                    htmlStr += '<div class="title">';
                    if (doc.displayDb && "" != doc.displayDb && noShowDisplayDb.indexOf(doc.fileType) == -1) {
                        htmlStr += '<span>' + doc.displayDb + '</span>'
                    }
                    fileIcon();
                    if (showZwfw && doc.banshi) {
                        htmlStr += '<a record="false" href="javascript:void(0)" onclick="opDialog(\'' + doc.md5Title + '\',\'' + doc.title + '\')"  title="' + doc.title + '">' + doc.disPlayTitle + '</a>'
                    } else {
                        if (fileReplace && doc.parentUrl && "" != doc.parentUrl) {
                            htmlStr += '<a href="' + doc.parentUrl + '" target="_blank" class="fontlan" title="' + doc.title + '">' + doc.disPlayTitle + '</a>'
                        }else if(doc.myValues.DREDBNAME == 'project_stats' && doc.myValues.L1.indexOf('统计数据') == -1){
                            htmlStr += '<a href="http://www.stats.gov.cn/zsk/snapshoot?reference='+doc.myValues._ID+'&index=project_stats&qt=*&siteCode=tjzsk" target="_blank" class="fontlan" title="' + doc.title + '">' + doc.disPlayTitle + '</a>'
                        }
                        else {
                            htmlStr += '<a href="' + doc.viewUrl + '" target="_blank" class="fontlan" title="' + doc.title + '">' + doc.disPlayTitle + '</a>'
                        }
                    }

                    htmlStr += '</div>';

                    htmlStr += '<div class="content">';
                    var weixinFlag = !(hasFileType && "weixin" == doc.fileType);
                    if (weixinFlag) {
                        if(doc.myValues.DREDBNAME == 'project_stats' && doc.myValues.L1.indexOf('统计数据') == -1){
                            htmlStr += '<a href="http://www.stats.gov.cn/zsk/snapshoot?reference='+doc.myValues._ID+'&index=project_stats&qt=*&siteCode=tjzsk" target="_blank" class="fontlan" title="' + doc.title + '">'
                        }else{
                            htmlStr += '<a href="' + doc.viewUrl + '" target="_blank" title="' + doc.title + '">';
                            if (doc.imgUrl && doc.imgUrl.startsWith('img?')) {
                                htmlStr += '   <img src="' + url_basic + doc.imgUrl + '" width="140" height="83" alt=""/>'
                            } else {
                                htmlStr += '   <img src="' + doc.imgUrl + '" width="140" height="83" alt=""/>'
                            }
                        }
                        htmlStr += '</a>'
                    }
                    if (displayType >= -1) {
                        if (doc.summary && "" != doc.summary) {
                            htmlStr += '<div class="txtpic2" >' + doc.summary + '</div>'
                        } else if (weixinFlag && doc.imgUrl) {
                            htmlStr += '<div class="txtpic2" ></div>'
                        }
                    }

                    if (0 == displayType) {
                        htmlStr += '<div>';
                        htmlStr += doc.siteName;
                        if ("1970-01-01" != doc.docDate) {
                            if (doc.siteName && "" != doc.siteName) {
                                htmlStr += "-" + formatWithLang(doc.docDate);
                            } else {
                                htmlStr += formatWithLang(doc.docDate);
                            }
                        }
                        if (relevance) {
                            htmlStr += '&nbsp;<span class="color_related_degree"> 相关度：' + doc.weight + '</span>'
                        }
                        if (doc.snapshoot) {
                            htmlStr += '&nbsp;-&nbsp; <a record="false" href="' + doc.snapshoot + '&siteCode=bm36000002&tab=all" target="_blank" class="color_related_degree fontlan">快照 </a>'
                        }
                        combinHtml();
                        htmlStr += '</div>'


                    }

                    htmlStr += '</div></div>';

                    break;
                case 2:

                    break;
                case 3:
                    htmlStr +=
                        '<div class="news clearfix">';
                    var fileReplace = parentUrlHtml();
                    zwfwHtml();

                    htmlStr += '<div class="title">';
                    if (doc.displayDb && "" != doc.displayDb && noShowDisplayDb.indexOf(doc.fileType) == -1) {
                        htmlStr += '<span>' + doc.displayDb + '</span>'
                    }
                    fileIcon();

                    if (showZwfw && doc.banshi) {
                        htmlStr += '<a record="false" href="javascript:void(0)" onclick="opDialog(\'' + doc.md5Title + '\',\'' + doc.title + '\')"  title="' + doc.title + '">' + doc.disPlayTitle + '</a>'
                    } else {
                        if (fileReplace && doc.parentUrl && "" != doc.parentUrl) {
                            htmlStr += '<a href="' + doc.parentUrl + '" target="_blank" class="fontlan" title="' + doc.title + '">' + doc.disPlayTitle + '</a>'
                        } else if(doc.myValues.DREDBNAME == 'project_stats' && doc.myValues.L1.indexOf('统计数据') == -1){
                            htmlStr += '<a href="http://www.stats.gov.cn/zsk/snapshoot?reference='+doc.myValues._ID+'&index=project_stats&qt=*&siteCode=tjzsk" target="_blank" class="fontlan" title="' + doc.title + '">' + doc.disPlayTitle + '</a>'
                        }else{
                            htmlStr += '<a href="' + doc.viewUrl + '" target="_blank" class="fontlan" title="' + doc.title + '">' + doc.disPlayTitle + '</a>'
                        }
                    }

                    htmlStr += '</div>';

                    htmlStr += '<div class="content">';


                    if (displayType >= -1 && doc.summary && "" != doc.summary) {
                        htmlStr += '<div class="txt">' + doc.summary + '</div>'
                    }

                    if (displayType == 0) {
                        htmlStr += '<div>';
                        htmlStr += doc.siteName;
                        if ("1970-01-01" != doc.docDate) {
                            if (doc.siteName && "" != doc.siteName) {
                                htmlStr += "-" + formatWithLang(doc.docDate);
                            } else {
                                htmlStr += formatWithLang(doc.docDate);
                            }
                        }
                        if (relevance) {
                            htmlStr += '&nbsp;<span class="color_related_degree"> 相关度：' + doc.weight + '</span>'
                        }
                        if (doc.snapshoot) {
                            htmlStr += '&nbsp;-&nbsp; <a record="false" href="' + doc.snapshoot + '&siteCode=bm36000002&tab=all" target="_blank" class="color_related_degree fontlan">相关度： </a>'
                        }

                        combinHtml();
                        htmlStr += '</div>'
                    }

                    htmlStr += '</div></div>';

                    break;
            }
        }
        return htmlStr;

    }


    var lastPage = 0;

    function combin(md5Url, md5Title, reference, page, pageSize) {
        var releatedDom = $("#" + md5Url + md5Title);

        if ("none" == releatedDom.css("display") || page) {

            if (page && lastPage == page) {
                releatedDom.show();
                return
            }

            var thisUrl = releatedDom.parent().parent().prev().children().siblings('.fontlan').attr("href") || releatedDom.parent().parent().siblings('.title').children().siblings('.fontlan').attr("href");
            var thisTitle = releatedDom.parent().parent().prev().children().siblings('.fontlan').attr("title") || releatedDom.parent().parent().siblings('.title').children().siblings('.fontlan').attr("title");

            if (!page) {
                page = 1
            }

            if (!pageSize) {
                pageSize = 5
            }

            var data = {
                siteCode: site.siteCode,
                tab: site.tab,
                timestamp: token.timestamp,
                wordToken: token.wordToken,
                page: pageParam.page,
                pageSize: pageParam.pageSize,
                qt: qt.origin,
            };


            Object.keys(toolParams).forEach(function (key) {
                data[key] = toolParams[key]
            });

            Object.keys(tagParam.param).forEach(function (key) {
                data[key] = tagParam.param[key]
            });

            Object.keys(tagParam.attrs).forEach(function (key) {
                data[key] = tagParam.attrs[key]
            });

            data['page'] = page
            data['pageSize'] = pageSize
            data['combinType'] = combinType
            data['md5Url'] = md5Url
            data['md5Title'] = md5Title
            data['reference'] = reference

            $.ajax({
                type: "post",
                async: true,
                url: url_basic + "combin",
                data: data,
                dataType: "json",
                success: function (res) {

                    var listHtml = '<ul class="list">';
                    if (res.docs) {
                        res.docs.forEach(function (doc) {

                            if (("MD5TITLE" == combinType) || ("MD5URL" == combinType)) {
                                listHtml += '<li>';
                                if (doc.channel && "" != doc.channel && '[]' != doc.channel) {

                                    if (0 != doc.channel.indexOf("[")) {
                                        doc.channel = '[' + doc.channel
                                    }

                                    if (doc.channel.length - 1 != doc.channel.indexOf("]")) {
                                        doc.channel = doc.channel + ']'
                                    }

                                    listHtml += '<span class="fl"><strong>' + doc.channel + '</strong></span>&nbsp;'
                                }
                                if (doc.displayTime && '1970-01-01' != doc.displayTime) {
                                    listHtml += '<span class="date">' + formatWithLang(doc.displayTime) + '</span>'
                                }
                                listHtml += '<a href="' + doc.url + '" title="' + doc.title + '" target="_blank">' + doc.title + '</a>';

                                listHtml += '</li>'
                            }
                        })
                    }
                    listHtml += '</ul>';


                    var pages = Math.ceil(res.total / res.pageSize);
                    if (pages > 1) {
                        listHtml += '<div class="pages clearfix">';
                        if (res.page && res.page > 1 && res.page <= pages) {
                            listHtml += '<a href="javascript:void(0)" class="next" onclick="combin(\'' + md5Url + '\',\'' + md5Title + '\',\'' + reference + '\',\'' + (res.page - 1) + '\',\'' + pageSize + '\')"> 上一页 </a>'
                        }

                        var start = res.page - 2 <= 0 ? 1 : res.page - 2;
                        var end = res.page + 2 >= pages ? pages : res.page + 2;

                        for (var i = start; i <= end; i++) {
                            if (i == res.page) {
                                listHtml += '<a href="javascript:void(0)" class="current" >' + i + ' </a>'
                            } else {
                                listHtml += '<a href="javascript:void(0)" onclick="combin(\'' + md5Url + '\',\'' + md5Title + '\',\'' + reference + '\',\'' + i + '\',\'' + pageSize + '\')">' + i + ' </a>'
                            }
                        }

                        if (res.page && res.page <= (pages - 1)) {
                            listHtml += '<a href="javascript:void(0)" class="next" onclick="combin(\'' + md5Url + '\',\'' + md5Title + '\',\'' + reference + '\',\'' + (res.page + 1) + '\',\'' + pageSize + '\')">下一页</a>'
                        }

                        listHtml += '</div>'
                    }

                    releatedDom.html(listHtml);
                    releatedDom.show();

                    lastPage = res.page;
                    $("#" + md5Url + md5Title).prev().children("a").removeClass("down");
                    $("#" + md5Url + md5Title).prev().children("a").addClass("up");

                    //相似信息
                    $("#" + md5Url + md5Title).prev().children("a").click(function () {
                        if ($(this).hasClass('up')) {
                            $(this).removeClass("up");
                            $(this).addClass("down");
                        }
                    });

                    // 点击记录
                    linkClickRecord(md5Url + md5Title)

                }, error: function (error) {
                    console.error(error);
                }
            });
        } else {
            releatedDom.hide()
        }


    }

    function buildhtml(jsonStr) {
        if (jsonStr == '' || jsonStr == 'undefined' || jsonStr == undefined) {
            return '';
        }
        try {

            var jsonArray = JSON.parse(jsonStr);
            var html = "";
            for (var i = 0; i < jsonArray.length; i++) {
                var colArray = jsonArray[i].col;
                if (colArray.length == 0) {
                    continue;
                }
                if (colArray.length == 1) {
                    for (var j = 0; j < colArray.length; j++) {

                        if (colArray[j].text.indexOf('相关解读') != -1) {
                            html = html + '<div class="row zcjdlist clearfix">'
                            html = html + '<p class="zcjdtitle"><strong>' + colArray[j].text + '</strong></p>' +
                                colArray[j].value + '</p>';
                        } else if (colArray[j].field && colArray[j].field.indexOf('ZC_ZCJD') != -1) {
                            html = html + '<div class="row zcjdlist clearfix">'
                            html = html + '<p class="zcjdtitle"><strong>' + colArray[j].text + '</strong></p>' +
                                colArray[j].value + '</p>';
                        } else if (colArray[j].text.indexOf('附　　件') != -1) {
                            html = html + '<div class="row zcjdlist clearfix">'
                            html = html + '<p class="zcjdtitle"><strong>' + colArray[j].text + '</strong></p>' +
                                colArray[j].value + '</p>';
                        }else if (colArray[j].field && colArray[j].field.indexOf('ATTACHMENTS') != -1) {
                            html = html + '<div class="row zcjdlist clearfix">'
                            html = html + '<p class="zcjdtitle"><strong>' + colArray[j].text + '</strong></p>' +
                                colArray[j].value + '</p>';
                        } else {
                            html = html + '<div class="row clearfix">'
                            html = html + '<p class="w100"><span class="title">' + colArray[j].text + '</span><span class="txt">' +
                                colArray[j].value + '</span></p>';
                        }
                    }
                } else if (colArray.length == 2) {
                    for (var j = 0; j < colArray.length; j++) {

                        if (colArray[j].text.indexOf('相关解读') != -1) {
                            if (j == 0) {
                                html = html + '<div class="row zcjdlist clearfix">'
                            }
                            html = html + '<p class="zcjdtitle"><span class="title">' + colArray[j].text + '</span><span class="txt">' +
                                colArray[j].value + '</span></p>';
                        } else if (colArray[j].field && colArray[j].field.indexOf('ZC_ZCJD') != -1) {
                            if (j == 0) {
                                html = html + '<div class="row zcjdlist clearfix">'
                            }
                            html = html + '<p class="zcjdtitle"><span class="title">' + colArray[j].text + '</span><span class="txt">' +
                                colArray[j].value + '</span></p>';
                        } else if (colArray[j].text.indexOf('附　　件') != -1) {
                            if (j == 0) {
                                html = html + '<div class="row zcjdlist clearfix">'
                            }
                            html = html + '<p class="zcjdtitle"><strong>' + colArray[j].text + '</strong></p>' +
                                colArray[j].value + '</p>';
                        }  else if (colArray[j].field && colArray[j].field.indexOf('ATTACHMENTS') != -1) {
                            if (j == 0) {
                                html = html + '<div class="row zcjdlist clearfix">'
                            }
                            html = html + '<p class="zcjdtitle"><strong>' + colArray[j].text + '</strong></p>' +
                                colArray[j].value + '</p>';
                        } else {
                            if (j == 0) {
                                html = html + '<div class="row clearfix">'
                            }
                            html = html + '<p class="w50"><span class="title">' + colArray[j].text + '</span><span class="txt">' +
                                colArray[j].value + '</span></p>';
                        }
                    }
                }

                html = html + '</div>';
            }
            return html;
        } catch (e) {
            return jsonStr;
        }

    }
</script>

<style>
    .color_related_degree {
        color: #ccc
    }
</style>

<div id="relatedBottomWord" class="related clearfix" style="display: none">
</div>

<script>
    function relateds(relateds) {
        if (relateds && relateds.length > 0) {
            flag.assist = true
            relatedHtml(relateds[0])
        }

    }


    function relatedHtml(related) {
        if (!related) {
            return
        }
                var words = related.relatedWords
        if (words && words.length > 0) {

            var wordArr = words.split(",");

            var qtIndex = wordArr.indexOf('70个大中城市商品住宅销售价格变动情况');
            if (qtIndex != -1) {
                wordArr.splice(qtIndex, 1)
            }

            if (wordArr && wordArr.length > 0) {
                var htmlStr = '<div class="title b">相关搜索</div>'
                htmlStr += '<ul class="list clearfix">'
                for (var i = 0; i < wordArr.length && i < 9; i++) {
                    var word = wordArr[i]
                    if ("" != word || '70个大中城市商品住宅销售价格变动情况' != word) {
                        htmlStr += '<li> <i></i><a record="false" target=\'_self\' title=\'' + word + '\' href=\'s?siteCode=bm36000002&qt=' + encodeURIComponent(word) + '&tab=all\'>' + word + '</a> </li>'
                    }
                }
                htmlStr += '</ul>'
                $("#relatedBottomWord").html(htmlStr)
                $("#relatedBottomWord").show()
            }
        }


        if (flag.right && related.customContent && related.customTitle) {
            $("#relatedInfoTitleId").html(related.customTitle)
            $("#relatedInfoTitleId").append(related.customContent)
            $("#relatedInfoId").show()

        }
    }
</script>

<div class="pages clearfix" id="Pagination"></div>
<script type="text/javascript">


        function searchPagination(id, totlePage) {
        var pageNum = parseInt(totlePage / pageParam.pageSize);
        if (totlePage % pageParam.pageSize != 0) {
            pageNum += 1;
        }

        if (pageNum > MAX_PAGE){
            pageNum = MAX_PAGE
        }

        pageParam.total = totlePage

        $("#" + id).pagination(pageNum, {
            num_edge_entries: 0,
            num_display_entries: 10,
            callback: function (pageNumber) {
                var nowCurrent = pageNumber +1;
                if (pageParam.page == (nowCurrent)){
                    return;
                }
                pageParam.page = nowCurrent
                query()
            },
            link_to: "javascript:void(0)",
            current_page: pageParam.page - 1,
            prev_show_always: false,
            next_show_always: false,
            items_per_page: 1,
            prev_text: "上一页",
            next_text: "下一页"
        });
    }
</script>
<div id="bsDialog" title="地区选择"
     class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-draggable ui-resizable clearfix"
     style="width: auto; min-height: 93px; max-height: none; height: auto;">
</div>
<style type="text/css">

    .ui-dialog-content {
        font-size: 14px;
    }

    .ui-dialog-title {
        font-size: 16px;
    }

    #bsDialog ul li {
        float: left;
        margin: 0 10px 10px 5px;
    }

    #bsDialog ul li:hover {
        background-color: #C1C1C1;
    }

    #bsDialog ul li a {
        display: block;
        text-decoration: none;
        color: #2d2f30;
    }

    #bsDialog ul li.selected a {
        background: #c83333;
        color: #fff;
    }

    #table a:hover {
        text-decoration: underline;
        color: #c83333;
    }

    #table .addr {
        width: 900px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
</style>
<script type="text/javascript">

    var defaultField = 'SHENG'
    var showZwfw = 1 == '0' || false
    var banshi_sheng = "SHENG";
    var banshi_shi = "SHI";
    var banshi_xian = "XIAN";
    var banshi_xiang = "XIANG";
    var banshi_cun = "CUN";

    var bsDialog = $("#bsDialog").dialog({
        autoOpen: false,
        width: 1200,
        modal: true,
        position: {
            using: function (pos) {
                var topOffset = $(this).css(pos).offset().top;
                if (topOffset = 0 || topOffset > 0) {
                    $(this).css('top', 170);
                }
            }
        },
        close: function (event, ui) {
            $("#bsDialog").html("");
            bsTab = undefined
            switchField(banshi_sheng)
        }
    });

    var bsTab, sheng, shi, xian, xiang, cun;

    function opDialog(md5Title, title, categoryId, tab) {
        $('#bsDialog').parent().css({position: "fixed"});
        $('#bsDialog').append("<div id='select'></div >");
        bsDialog.dialog({title: "地区选择 • " + title});

        bsDialog.dialog("open");
        $('#bsDialog').append("<table id='table'></table>");
        bsTab = $('#table').DataTable({
            dom: 'rtip',
            processing: true,
            serverSide: true,
            ajax: {
                "method": "post",
                "url": url_basic + "banshi/list",
                "dataSrc": "data",
                "data": function (d) {
                    d.md5Title = md5Title;
                    d.siteCode = site.siteCode;
                    d.tab = tab ? tab : site.tab;
                    d.sheng = sheng;
                    d.shi = shi;
                    d.xian = xian;
                    d.xiang = xiang;
                    d.cun = cun;
                    d.categoryId = categoryId;
                    if (tagParam.param){
                        Object.assign(d, tagParam.param)
                    }
                }
            },
            bPaginate: true,
            aLengthMenu: [5, 10, 13, 17],
            iDisplayLength: 10,
            bSort: false,
            bInfo: true,
            bAutoWidth: true,
            destroy: true,
            scrollY: "400px",
            scrollCollapse: true,
            columns: [
                {
                    data: "transactAddr",
                    width: "882px",
                    title: "办理地点",
                    render: function (data, type, row) {

                        var fwdlx = "暂无";
                        if (row.cun && "" != row.cun) {
                            fwdlx = row.cun
                        } else if (row.xiang && "" != row.xiang) {
                            fwdlx = row.xiang
                        } else if (row.xian && "" != row.xian) {
                            fwdlx = row.xian
                        } else if (row.shi && "" != row.shi) {
                            fwdlx = row.shi
                        } else if (row.sheng && "" != row.sheng) {
                            fwdlx = row.sheng
                        }

                        if (!data || "" == data) {
                            data = fwdlx
                        }

                        return "<div class='addr'>【" + fwdlx + "】<a href='" + row.url + "' title='" + data + "' target='_blank'>" + data + "</a><div>";
                    }
                },
                {data: "deptName", width: "198px", title: "实施主体"}
            ],
            columnDefs: [{
                "defaultContent": "-",
                "targets": "_all"
            }],
            language: {
                "url": "https://p.so-gov.cn/pc/js/Chinese.json"
            },
            "initComplete": function (settings, json) {

            },
            fnDrawCallback: function (settings, jqXHR) {
                var jqXHR = settings.jqXHR;
                var resJson = jqXHR.responseJSON;
                regionFn(resJson.field, resJson.aggs, this)
            }
        });
    }


    function regionFn(field, aggs, obj) {
        if(!aggs){
            return;
        }

        if (aggs.length > 0) {
            aggs = aggs.filter(function (obj) {
                return obj.name && "" != obj.name
            })
            if (aggs.length <= 0) {
                return
            }
        }

        var $field = $("#"+field);
        if ($field.length > 0){
            $field.remove()
        }


        $(obj).addClass("selected").siblings().removeClass("selected");
        $(obj).parent().parent().parent().nextAll().remove();
        var html = '';
        html += '<div id="' + field + '">';
        html += '<div style="float: left;width: 10%;">';
        html += '<strong style="float: right;">';

        switch (field) {
            case banshi_sheng:
                html += "省：";
                break
            case banshi_shi:
                html += "市：";
                break
            case banshi_xian:
                html += "区/县：";
                break;
            case banshi_xiang:
                html += "街道/乡镇：";
                break;
            case banshi_cun:
                html += "社区/村：";
                break;
        }
        html += '</strong>';
        html += '</div>';
        html += '<div style="float: left;width: 85%;">';
        html += '<ul>';

        for (var i = 0; i < aggs.length; i++) {
            var item = aggs[i];
            if (item.num > 0) {
                html += '<li><a href="javascript:void(0);" onclick="banshiSelect(\'' + field + '\',this)">' + item.name + '</a></li>';
            } else {
                html += '<li><a href="javascript:void(0);" onclick="banshiSelect(\'' + field + '\',this)">' + item.name + '</a></li>';
            }
        }

        html += '</ul>';
        html += '</div>';
        html += '</div>';
        $('#select').append(html);

    }


    function banshiSelect(field, event) {
        var $event = $(event);
        if ($event.parent().hasClass("selected")) {
            $event.parent().removeClass("selected")
            switchField(field)
            if (defaultField != field) {
                $("#" + field).remove()
                $("#" + defaultField).nextAll().remove()
                bsTab.ajax.reload()
            } else {
                $("#" + defaultField).siblings().remove()
                bsTab.ajax.reload()
            }

        } else {
            $event.parent().siblings().removeClass("selected")
            $event.parent().addClass("selected")
            switch (field) {
                case banshi_sheng:
                    sheng = $event.text()
                    $("#" + banshi_shi).remove()
                    $("#" + banshi_xian).remove()
                    $("#" + banshi_xiang).remove()
                    $("#" + banshi_cun).remove()
                    shi = undefined
                    xian = undefined
                    xiang = undefined
                    cun = undefined
                    break
                case banshi_shi:
                    shi = $event.text()
                    $("#" + banshi_xian).remove()
                    $("#" + banshi_xiang).remove()
                    $("#" + banshi_cun).remove()
                    xian = undefined
                    xiang = undefined
                    cun = undefined
                    break
                case banshi_xian:
                    xian = $event.text()
                    $("#" + banshi_xiang).remove()
                    $("#" + banshi_cun).remove()
                    xiang = undefined
                    cun = undefined
                    break
                case banshi_xiang:
                    xiang = $event.text()
                    $("#" + banshi_cun).remove()
                    cun = undefined
                    break
                case banshi_cun:
                    cun = $event.text()
                    break
            }
            bsTab.ajax.reload()
        }
    }

    function switchField(field) {
        switch (field) {
            case "SHENG":
                sheng = undefined
            case "SHI":
                shi = undefined
            case "XIAN":
                xian = undefined
            case "XIANG":
                xiang = undefined
            case "CUN":
                cun = undefined
        }
    }

</script>

</div>
<div class="aside fr" id="right">
    <a record="false" href="https://tjy.stats.gov.cn" target="_Blank" style="margin-bottom: 5px;display: inline-block"><img style="width: 350px;" src="https://p.so-gov.cn/custom/bm36000002/zbmh.jpg" /></a>
    <a record="false" href="https://data.stats.gov.cn/" target="_Blank" style="margin-bottom: 5px;display: inline-block"><img style="width: 350px;" src="https://p.so-gov.cn/custom/bm36000002/gjsj.jpg" /></a>
    <a record="false" href="http://www.stats.gov.cn/znwd/" target="_Blank" style="margin-bottom: 5px;display: inline-block"><img style="width: 350px;" src="https://p.so-gov.cn/custom/bm36000002/gzfwznpt.jpg" /></a>
    <a record="false" href="https://www.stats.gov.cn/zgzlg/sy/" target="_Blank"><img style="width: 172px;" src="https://p.so-gov.cn/custom/bm36000002/tjzl1.jpg" /></a>
    <a record="false" href="http://microdata.stats.gov.cn/" target="_Blank"><img style="width: 172px;" src="https://p.so-gov.cn/custom/bm36000002/tjzl2.jpg" /></a>

<div id="samplePersonsID"></div>
<script>

    /**
     * 相关人物
     * @param persons 人物名片   =
     * @param tagMap  人物分类map
     */
    function samplePersons(person, tagMap) {

        $("#samplePersonsID").hide();
        var tags = Object.keys(tagMap);
        if (tagMap && tags && tags.length > 0) {
            var sceneType = 'PERSON_RELATED';
            var htmlStr = '';
            if (tags.length == 1) {
                var tag = tags[0];
                var samePersonList = tagMap[tag];
                if (1 == tags.length) {
                    if (samePersonList && (samePersonList.length > 0)) {
                        htmlStr += '<div class="reclist">';
                        htmlStr += '<div class="title b">相关领导';
                        if (samePersonList.length > 4) {
                            htmlStr += ' <a record="false" href="javascript:void(0);" class="more personmore up fontlan">收起</a>'
                        }
                        htmlStr += '</div>';
                        htmlStr += '<ul class="personlist clearfix">';

                        for (var i = 0; i < samePersonList.length; i++) {
                            var samePerson = samePersonList[i];
                            if (samePerson.id == person.id) {
                                continue
                            }
                            htmlStr += '<li><a record="false" class="a_hand"   title="' + samePerson.name + '" sceneName="' + person.name + '"  sceneType="' + sceneType + '" href="s?tab=' + site.tab + "&siteCode=" + site.siteCode + "&qt=" + encodeURIComponent(samePerson.name) + '">' +
                                '          <img src="' + samePerson.relatedImg + '" width="57" height="75" title="' + samePerson.name + '"/>' +
                                '          <p>' + dealName(samePerson.name) + '</p></a>' +
                                '        </li>'
                        }
                        htmlStr += '';
                        htmlStr += '</ul>';
                        htmlStr += '</div>'

                    }
                }
            } else {
                htmlStr += '<div class="reclist">';
                Object.keys(tagMap).forEach(function (tag) {
                    var samePersonList = tagMap[tag];
                    if (samePersonList && (samePersonList.length > 0)) {
                        htmlStr += '<div class="title b">';
                        switch (tag) {
                            case  "0":
                                htmlStr += '相关领导';
                                break;
                            case  "1":
                                htmlStr += '党委领导';
                                break;
                            case  "2":
                                htmlStr += '人大领导';
                                break;
                            case "3":
                                htmlStr += '政府领导';
                                break;
                            case  "4":
                                htmlStr += '政协领导';
                                break;
                            default:
                                htmlStr += '相关领导'
                        }
                        if (samePersonList.length > 4) {
                            htmlStr += '<a record="false" href="javascript:void(0);" class="more personmore up fontlan">收起</a>'
                        }
                        htmlStr += '</div>';
                        htmlStr += '<ul class="personlist clearfix">';

                        for (var j = 0; j < samePersonList.length; j++) {
                            var samePerson = samePersonList[j];
                            htmlStr += '' +
                                '<li><a record="false" class="a_hand" title="' + samePerson.name + '" sceneName="' + person.name + '"  sceneType="' + sceneType + '" href="s?tab=' + site.tab + "&siteCode=" + site.siteCode + "&qt=" + encodeURIComponent(samePerson.name) + '">' +
                                '      <img src="' + samePerson.relatedImg + '" width="57" height="75" title="' + samePerson.name + '"/>' +
                                '      <p>' + dealName(samePerson.name) + '</p></a>' +
                                '</li>'

                        }

                        htmlStr += '</ul>'
                    }

                })
                htmlStr += '</div>'

            }

            $("#samplePersonsID").html(htmlStr);
            $("#samplePersonsID").show();

            $(".personmore").click(function () {
                var txt = $(this).html();
                if (txt == "收起") {
                    $(this).parent().next("ul").height("105");
                    $(this).html("展开");
                    $(this).removeClass("up");
                    $(this).addClass("down");
                } else {
                    $(this).parent().next("ul").height("auto");
                    $(this).html("收起");
                    $(this).removeClass("down");
                    $(this).addClass("up");
                }

            });
        }

    }



    function dealName(name) {
        if (name && name.length > 4){
            return name.substring(0,4) + '...'
        }
        return name
    }

</script>


<div class="reclist" id="relatedSysDiv" style="display: none">
    <div class="title b">相关业务系统</div>
    <ul class="unitlist clearfix" id="relatedSys">
    </ul>
</div>
<div class="reclist" id="relatedOrgsDiv" style="display: none">
    <div class="title b">相关机构</div>
    <ul class="unitlist clearfix" id="relatedOrgs">
    </ul>
</div>

<script>
    function relatedOrgs() {
        related(1)
    }

    function relatedSys() {
        related(2);
    }

    /**
     * 相关业务系统
     * @param relatedSys
     */
    function related(type, relatedSiteCode) {
        if (!type) {
            type = 1
        }
        var zntjParams = {
            siteCode: site.siteCode,
            relatedSiteCode: relatedSiteCode,
            tab: site.tab,
            timestamp: token.timestamp,
            wordToken: token.wordToken,
            qt: qt.origin,
            mode: 1,
            redTitleLength: 24,
            size: 5,
            relatedType: type
        }

        var relatedResponse = relatedOrgsResponse
        if (2 == type) {
            relatedResponse = relatedSysResponse
        }

        crossDomainAjax(url_basic + "related", zntjParams, relatedResponse, relatedErrResponse)

    }

    function relatedSysResponse(data) {
        if (!existRelatedSyss && data && data.systems) {
            dealRelatedSys(data.systems, true)

        }
    }

    function dealRelatedSys(relatedSys, append) {
        if (relatedSys && relatedSys.length > 0) {
            existRelatedSyss = true
            var sceneType = 'SYS_RELATED'
            var htmlStr = ''
            for (var i = 0; i < relatedSys.length && i < 5; i++) {
                var relatedSysObj = relatedSys[i]
                htmlStr +=
                    '                    <li style="margin-bottom: 10px;">' +
                    '                        <a href="' + relatedSysObj.url + '" title="' + relatedSysObj.name + '" sceneName="' + relatedSysObj.name + '"  sceneType="' + sceneType + '" target="_blank">' +
                    '                            <img src="' + relatedSysObj.relatedImg + '" width="350" height="80" title="' + relatedSysObj.name + '"/>' +
                    '                            <p style="display: none">' + relatedSysObj.name + '</p>' +
                    '                        </a>' +
                    '                    </li>'
            }
            if (append) {
                $("#relatedSys").append(htmlStr)
            } else {
                $("#relatedSys").html(htmlStr)
            }
            $("#relatedSysDiv").show()
        }
    }

    function relatedOrgsResponse(data) {
        if (!existRelatedOrgs && data && data.organisations) {
            var relatedOrgs = data.organisations;
            dealRelatedOrg(relatedOrgs, true)
        }
    }

    function dealRelatedOrg(relatedOrgs, append) {
        if (relatedOrgs && relatedOrgs.length > 0) {
            existRelatedOrgs = true
            var sceneType = 'ORG_RELATED'
            var htmlStr = ''
            for (var i = 0; i < relatedOrgs.length && i < 5; i++) {
                var relatedOrg = relatedOrgs[i]
                htmlStr +=
                    '           <li style="margin-bottom: 10px;">' +
                    '                <a href="' + relatedOrg.url + '"  title="' + relatedOrg.name + '"  sceneName="' + relatedOrg.name + '"  sceneType="' + sceneType + '" target="_blank" >' +
                    '                    <img src="' + relatedOrg.relatedImg + '" width="350" height="80" title="' + relatedOrg.name + '"/>' +
                    '                    <p style="display: none">' + relatedOrg.name + '</p>' +
                    '                </a>' +
                    '            </li>'
            }
            if (append) {
                $("#relatedOrgs").append(htmlStr)
            } else {
                $("#relatedOrgs").html(htmlStr)
            }
            $("#relatedOrgsDiv").show()
        }
    }

    function relatedErrResponse() {
        console.error('智能推荐请求出错');
    }

</script>


<div id="uwords">
</div>
<script>

    /**
     * 场景上下位词
     * @param scenes 场景数据
     */
    function sceneUwords(scenes) {
        if (scenes && scenes.length > 0) {
            var htmlStr = '<div class="rec">'
            htmlStr += '<div class="title">智能推荐</div>'
            htmlStr += '<div class="reclist circle">'

            for (var i = 0; i < scenes.length; i++) {
                var scene = scenes[i]

                htmlStr += '<div class="title b">'
                if (scene.linkStatus) {
                    htmlStr += '<a record="false" onclick="ulClick(\'' + scene.name + '\');" title="' + scene.name + '">' + scene.name + '</a>'
                } else {
                    htmlStr == '<a record="false" onclick="void(0)" title="' + scene.name + '">' + scene.name + ' </a>'
                }

                htmlStr += '</div>'

                if (scene.sons && scene.sons.length > 0) {
                    htmlStr += '<ul class="list clearfix">'

                    for (var j = 0; j < scene.sons.length; j++) {
                        var son = scene.sons[j]
                        if (son.linkStatus) {
                            htmlStr += '<li><a record="false" onclick="ulClick(\'' + son.name + '\');" title="' + son.name + '">' + son.name + '</a></li>'
                        } else {
                            htmlStr == '</li><a record="false" onclick="void(0)" title="' + son.name + '">' + son.name + ' </a></li>'
                        }
                    }

                    htmlStr += '</ul>'
                }
            }
            htmlStr += '</div>'
            htmlStr += '</div></div>'

            $("#uwords").html(htmlStr)
        }
    }

    function ulClick(qt) {
        var url = "s?tab=all&siteCode=bm36000002&qt=" + encodeURIComponent(qt)
        window.open(url, "_self")
    }

</script>



<div class="reclist" style="display: none">
    <div class="title b">知识图谱</div>
    <div id="querySummaryImg" style='width: 350px;height:250px;' align="center">
    </div>
</div>

<script type="text/javascript">

    function querySummary(querySummary) {
        if (!querySummary || "" == querySummary.trim()) {
            return;
        }
        var qSummary = querySummary.split(/[,，]/);
        var nodes = "";
        var links = "";
        var qtReplaceHs = qt.origin.replace(/\"/g, "").replace(/\'/g, "")
        if (qSummary.length > 0) {
            nodes = '[{"category":0,"name":"' + qtReplaceHs + '","value":10,"label":"' + qtReplaceHs + '"},';
            links = '[';
            for (var num = 0; num < qSummary.length; num++) {
                if (qtReplaceHs != qSummary[num]) {
                    nodes += '{"category":1,"name":"' + qSummary[num] + '","value":' + Math.floor(Math.random() * 10) + '},';
                    links += '{"source":"' + qSummary[num] + '","target":"' + qtReplaceHs + '","weight":' + Math.floor(Math.random() * 10) + '},';
                }
            }
            nodes = nodes.substring(0, nodes.length - 1) + "]";
            links = links.substring(0, links.length - 1) + "]";
        }
        nodes = eval('(' + nodes + ')');
        links = eval('(' + links + ')');
        querySummaryFun(nodes, links, qtReplaceHs);
    }


    function querySummaryFun(nodes, links, qtReplaceHs) {
        var option = {
            title: {
                x: 'left',
                y: 'bottom'
            },
            toolbox: {
                show: false,
                feature: {
                    restore: {show: true},
                    magicType: {show: true, type: ['force', 'chord']},
                    saveAsImage: {show: true}
                }
            },
            legend: {
                show: false,
                x: 'left',
                data: ['', '']
            },
            series: [{
                type: 'graph',
                layout: 'force',
                name: "Force tree",
                force: {
                    repulsion: 100, 
                    gravity: 0.03, 
                    edgeLength: 80, 
                    layoutAnimation: true
                },
                lineStyle: {
                    normal: {
                        color: '#333',
                        width: '1',
                        type: 'solid', 
                        curveness: 0.3, 
                        opacity: 0.5
                    },
                    emphasis: {

                    }
                },
                itemStyle: {
                    normal: {
                        label: {show: true},
                        color: function () {
                            return 'rgb('
                                + [Math.round(50 + Math.random() * 200),
                                    Math.round(50 + Math.random() * 200),
                                    Math.round(50 + Math.random() * 200)]
                                    .join(',') + ')';
                        },
                        borderType: 'solid', 
                        borderWidth: 2, 
                        opacity: 1
                    }
                },
                label: {
                    normal: {
                        show: true, 
                        position: 'inside', 
                        textStyle: {
                            color: '#000000', 
                            fontStyle: 'normal', 
                            fontWeight: 'lighter', 
                            fontFamily: 'sans-serif', 
                            fontSize: 13, 
                        }
                    },
                    emphasis: {

                    }
                },
                categories: [{name: ''}, {name: ''}, {name: ''}, {name: ''}],
                symbol: 'circle',
                symbolSize: 40,
                roam: false,
                nodes: nodes,
                links: links
            }]
        };
        try {
            var myChart = echarts.init(document.getElementById("querySummaryImg"));
            myChart.setOption(option);
            $("#querySummaryImg").parent("div").show();
            var ecConfig = echarts.config;
            myChart.on('click', function (param) {
                if (param.name != qtReplaceHs) {
                    var siteCode = $("#siteCode").val();
                    url = "s?qt=" + encodeURIComponent(qtReplaceHs + " " + param.name) + "&siteCode=" + siteCode + "&tab=" + site.tab;
                    window.open(url, "_self");
                }
            });
        }catch (e) {

        }

    }

</script>

<div id="relatedInfoId" class="reclist" style="display: none">
    <div class='title b' id="relatedInfoTitleId"> </div>
</div>


<div class="rec" id="count"></div>
<script type="text/javascript">
    
    function tag_right(tagList) {
        if (tagList && tagList.length > 0) {

            var $count = $("#count");
            if ( tagParam.multiSelect && $count.length == 1) {
                $.each(tagList, function (key, val) {
                    tagParam.mapping[val.field] = val.display
                    if ($("#tag_" + tagReplace(val.display)).length == 0) {
                        $("#count").append(rightTagFilterHtml(val));
                        countmore();
                    }
                })
            } else {

                var dom = '<div class="title">统计信息</div>';
                $.each(tagList, function (key, val) {
                    tagParam.mapping[val.field] = val.display
                    dom += rightTagFilterHtml(val);
                });

                $("#count").html(dom);
                selectTag()
                countmore();
            }

        }
    }

    function rightTagFilterHtml(val) {
        var filterHtmlStr = "";
        var result = val["result"];
        var field = val["field"];
        var dict = val["dict"];

        if (val['default']) {
            if ($("#tag_" + tagReplace(val.display)).length == 0) {
                tagParam.defaults.push(field);
            }
        } else {
            if (tagParam.exists.indexOf(field) == -1) {
                tagParam.exists.push(field);
            }
        }

        var tcid = {};
        for (var d in dict) {
            tcid[dict[d]] = d;
        }

        if (result.length > 0) {
            filterHtmlStr += '<div class="reclist" id="tag_' + tagReplace(val.display) + '">';
            filterHtmlStr += '<div class="title b">';
            filterHtmlStr += val["display"];
            filterHtmlStr += '<a record="false" href="javascript:void(0);" class="more countmore down fontlan">展开</a></div>';
            filterHtmlStr += '<ul class="list count clearfix">';
            for (var i in result) {
                var map = result[i];
                var k = map["key"];
                var v = map["val"];
                if (!k || "" == k) {

                    if (tagShowEmpty) {
                        filterHtmlStr += '<li><a record="false" id="' + tagReplace( field + k )+ '" href="javascript:void(0);" onclick="recordTagHeight(\'' + field + '\',\'' + k + '\')" title="' + k + '">' + k + '<span>（' + v + '）</span></a></li>';
                    } else {
                        if (result.length == 1){
                            return ""
                        }
                    }
                } else {
                    filterHtmlStr += '<li><a record="false" id="' + tagReplace( field + k )+ '" href="javascript:void(0);" onclick="recordTagHeight(\'' + field + '\',\'' + k + '\')" title="' + k + '">' + k + '<span>（' + v + '）</span></a></li>';
                }
            }
            filterHtmlStr += '</ul>';
            filterHtmlStr += '</div>';
        }
        return filterHtmlStr;
    }


</script>



<div class="rec" id="recommend"></div>

<script type="text/javascript">

    function zntj() {

        var zntjParams = {
            siteCode: site.siteCode,
            tab: site.tab,
            timestamp: token.timestamp,
            wordToken: token.wordToken,
            qt: qt.origin,
            mode: 1,
            redTitleLength: 24,
            pageSize: 5}

        crossDomainAjax(url_basic + "suggest", zntjParams, zntjResponse,zntjErrResponse)

    }

    function zntjResponse(data) {
        if (data && data.docs && data.docs.length > 0) {
            var showQt = htmlEncode(data.qtObj.showQt) || qt.origin;
            var dom = '<div class="title"><em>' + (showQt) + '</em>'+ (showQt?'的智能推荐':'智能推荐') +'</div>';
            var htmlStr = "";
            $.each(data.docs, function (k, resultJson) {
                if (resultJson.resultList && resultJson.resultList.length > 0) {
                    htmlStr += '<div class="reclist">';
                    htmlStr += '<div class="title b">' + resultJson.suggestShowName + '</div>';
                    htmlStr += '<ul class="list clearfix">';
                    for (var i = 0; i < resultJson.resultList.length; i++) {
                        var n = resultJson.resultList[i];
                        var displaytitle = n.title;
                        htmlStr += '<li><a href="' + n.url + '" target="_blank" title="' + n.title + '">' + displaytitle + ' </a></li>';
                    }
                    htmlStr += '</ul>';
                    htmlStr += '</div>';
                }
            });
            if (htmlStr && "" != htmlStr){
                dom += htmlStr;
                dom += '</div>';
                $("#recommend").html(dom);
            }
        }
    }

    function zntjErrResponse(){
        console.error('智能推荐请求出错');
    }

</script>

<div id="interest" class="rec" style="display: none;"></div>
<script type="text/javascript">

    
    function interestInfo(word) {
        $.ajax({
            type: "post",
            url: url_basic + "interest/interest",
            async: true,
            headers: {
                "suid": suid
            },
            data: {
                siteCode: site.siteCode,
                tab: site.tab,
                timestamp: token.timestamp,
                wordToken: token.wordToken,
                tabToken: token.tabToken,
                qt: qt.origin, word: word,keyPlace: 1, pageSize: 5, redTitleLength: 28, combine: "MD5TITLE", mode: 1},
            dataType: "json",
            success: function (data) {
                var data = data.resultList;
                if (data && data != "") {

                    var html = '<div class="title">您可能感兴趣的信息</div>';
                    html += '<div class="reclist">';
                    html += '<ul class="list clearfix">';

                    for (var i = 0; i < data.length && i < 5; i++) {
                        var doc = data[i];
                        html += '<li><a title="' + doc.title+ '" href="' + doc.url + '" target="_blank">' + doc.title + ' </a></li>';
                    }
                    html += '</ul>';
                    html += "</div>";

                    $('#interest').html(html);
                    $('#interest').show();
                }
            }
        });
    }
</script>

<div class="rec pb30" id="history"></div>

<script type="text/javascript">
    
    function searchcookieWord(wordJson) {
        if (wordJson && wordJson != "" && wordJson.length > 0) {
            var dom = '<div class="title">搜索历史 ';
            dom += '<a record="false" href="javascript:void(0);" class="more countmore down fontlan">展开</a>';
            dom += '</div>';
            dom += '<ul class="list count clearfix">';
            for (var i in wordJson) {
                var url = "s?q=1&tab=" + site.tab + "&qt=" + wordJson[i].wordqt + "&siteCode=" + site.siteCode;
                dom += '<li><i></i> <a record="false" href="' + url + '" arget="_self" title="'+ wordJson[i].displayqt +'" >' + wordJson[i].displayqt + '</a></li>';
            }
            dom += '</ul>';
            dom += '<span class="emptybtn" style="cursor: pointer;" onclick="clearSearchcookieWord()">清空搜索历史</span>';
            $("#history").html(dom);
            countmore();
        }
    }


    function clearSearchcookieWord() {
        var msg = confirm("您确定清空搜索历史吗？");
        if (msg) {
            $.ajax({
                type: "post",
                url: "clearSearchWordCookie",
                dataType: "json",
                success: function (data) {
                    if (data.status == "true") {
                        $("#history").hide();
                        $("#history").html("");
                    }
                }
            });
        }
    }

    function searchHistory() {
        try {
            searchcookieWord(JSON.parse('[]') )
        }catch (e) {
            console.error(e)
            $.ajax({
                type: "post",
                url: "clearSearchWordCookie",
                dataType: "json",
                success: function (data) {
                    if (data.status == "true") {
                        $("#history").hide();
                        $("#history").html("");
                    }
                }
            });
        }
    }

</script>
</div>
</div>
<div class="footer">
  <a record="false" href="https://bszs.conac.cn/sitename?method=show&id=0D0B77DBD5666A3EE053012819ACD529" target="_blank">
    <img src="https://p.so-gov.cn/custom/bm36000002/image/dzjg.png" class="dzjg">
  </a>
  <div class="footer-middle">
    <div>版权所有：国家统计局</div>
    <div>地址：北京市西城区月坛南街57号（100826）</div>
    <div>
      <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank" record=false>
        <span>京ICP备05034670号-2</span>
      </a>
      <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11040102700142" target="_blank" record=false>
        <span><img src="https://p.so-gov.cn/custom/bm36000002/image/gh.png" class="gh">京公网安备 11040102700142号</span>
      </a>
    </div>
    <div>
      <span>网站标识码bm36000002</span>
      <span>联系方式：010-68783311</span>
    </div>
  </div>
  <div class="zfzc">
    <!-- <img src="/images/gtj2023_zc.png" alt="" /> -->
      <span id="_span_jiucuo">
        <img onclick="Link('bm36000002')" style="margin:0;border:0;cursor: pointer;" src="https://zfwzgl.www.gov.cn/exposure/images/jiucuo.png?v=bm36000002"></span>
  </div>
</div>
<script>
function Link(site_code) {
  if (site_code) {
    //获取该站点需要纠错页面的url地址
    var url = getCurrUrl();
    //跳转至纠错系统填写页面
    //20190701测试修改  window.open("http://121.43.68.40/exposure/jiucuo.html?site_code=" + site_code + "&url=" + encodeURIComponent(url));
    window.open("https://zfwzgl.www.gov.cn/exposure/jiucuo.html?site_code=" + site_code + "&url=" + encodeURIComponent(url));
  }
}
//获取该站点需要纠错页面的url地址
function getCurrUrl() {
  var url = "";
  if (parent !== window) {
    try {
      url = window.top.location.href;
    } catch (e) {
      url = window.top.document.referrer;
    }
  }
  if (url.length == 0)
    url = document.location.href;
  return url;
}
</script><div class="gotoTop"><a href="javascript:void(0);" id="gotoTopId"></a></div>


<script type="text/javascript">
    zcTabName = '';
    langType = 'zh';
    var tagShowEmpty = 1 == '0';


    $(function () {
        jQuery.support.cors = true
        var attrs = {};


        initPubProperty(
            'bm36000002',
            'all',
            '70个大中城市商品住宅销售价格变动情况',
            '',
            '1',
            '20',
            '1746006285555',
            'a6f8c4b459f5c8fb7928827ca6a185cf',
            'c6ade971ece1b052d9f0fc06006ec326',
            attrs,
            'https://api.so-gov.cn/',
            0,
            "true" == 'false',
            '87ceece12c338f573d8c78ce495c8b34'
        );

        toolParams['timeOption'] = 0;

            toolParams["sort"] = 'relevance';

        toolParams["keyPlace"] = '0';

        toolParams["fileType"] = '';











        $.cookie("toolsStatus", 1);

        query()


    });


    /**
     *  查询
     */
    function query() {

        if (!isFirstLoad) {
            $("#loading").show()
        }


        var data = {
            siteCode: site.siteCode,
            tab: site.tab,
            timestamp: token.timestamp,
            wordToken: token.wordToken,
            page: pageParam.page,
            pageSize: pageParam.pageSize,
            qt: qt.origin,
        };


        Object.keys(toolParams).forEach(function (key) {
            data[key] = toolParams[key]
        });

        Object.keys(tagParam.param).forEach(function (key) {
            data[key] = tagParam.param[key]
        });

                Object.keys(tagParam.attrs).forEach(function (key) {
                if (!tagParam.param[key]){
                    data[key] = tagParam.attrs[key]
                }
        });

        crossDomainAjax(url_basic + "s", data, queryResponse, noresult);

    }

    function queryResponse(response) {
        if (isFirstLoad) {
            $("#loading_background").hide();
            isFirstLoad = false
        }
        var paginationId = "Pagination";

        if (!response || !response.data) {
            noresult(response);
            if (!tagParam.open) {
                if ($("#con").length == 1) {
                    $("#con").show()
                } else if ($("#count").length == 1) {
                    $("#count").show()
                }
            }
            $("#" + paginationId).html("");
            return
        }

        clear_left();
        $("#ask_robot").hide()

        var existScene = response.data.scene && response.data.scene.scene;
        var existRelatedWord = false;

        if (response.data.assist) {
            var assist = response.data.assist;

            topinfo(assist.tops);
            frames(assist.frames)

            persons(assist.persons);

            if (assist.persons && 1 == assist.persons.length) {
                samplePersons(assist.persons[0], assist.tagMap);
            }

            orgs(assist.organisations,'assist');
            systems(assist.systems,'assist');

            var assistRelatedOrgs = assist.relatedOrganisations;
            var assistRelatedSys = assist.relatedSystems;
            dealRelatedOrg(assistRelatedOrgs);
            dealRelatedSys(assistRelatedSys);

            if (assist.systems && assist.organisations && 0 == assist.organisations.length && 1 == assist.systems.length) {
                // 相关机构
                if (!existRelatedOrgs) {
                    related(1,assist.systems[0].siteCode);
                }
            } else if (assist.systems && assist.organisations && 0 == assist.systems.length && 1 == assist.organisations.length) {
                // 相关系统
                if (!existRelatedSyss) {
                    related(2,assist.organisations[0].siteCode);
                }
            }

            subjects(assist.subjects, 'assist');


            if (assist.relatedInfos && assist.relatedInfos.length > 0) {
                relateds(assist.relatedInfos);
                existRelatedWord = true
            }

            if (assist.maps && assist.maps.length > 0) {
                map(assist.maps)
            }

            $(".tabtitle a").click(function (event) {
                var index = $(this).index();
                $(this).siblings("a").removeClass("on");
                $(this).addClass("on");
                $(this).parent().siblings(".tabcontent").find("ul").removeClass("on");
                $(this).parent().siblings(".tabcontent").find("ul").eq(index).addClass("on");
                event.preventDefault();
            });
        }

        if (existScene) {
            var sceneData = response.data.scene;

            scene.name = sceneData.sceneName || 'NONE';
            scene.type = sceneData.type;

            if (sceneData.askStatus && true == sceneData.askStatus) {
                robotRobot(sceneData.askWorld, sceneData.askHeight)
            }


            sceneTips(sceneData.sceneEntities);

            topinfo(sceneData.tops, 'scene_top');

            frames(sceneData.frames, 'scene_frame');

            subjects(sceneData.subjects);
            orgs(sceneData.organisations,'scene');

            systems(sceneData.systems,'scene');

            if (flag.right) {

                var relatedOrgs = sceneData.relatedOrganisations;
                var relatedSys = sceneData.relatedSystems;
                dealRelatedOrg(relatedOrgs, true);
                dealRelatedSys(relatedSys, true);
                if (sceneData.systems && sceneData.organisations && 0 == sceneData.organisations.length && 1 == sceneData.systems.length) {
                    // 相关机构
                    if (!existRelatedOrgs) {
                        related(1, sceneData.systems[0].siteCode);
                    }
                } else if (sceneData.systems && sceneData.organisations && 0 == sceneData.systems.length && 1 == sceneData.organisations.length) {
                    // 相关系统
                    if (!existRelatedSyss) {
                        related(2,sceneData.organisations[0].siteCode);
                    }
                }

                    sceneUwords(sceneData.hyponyms)
            }

            if (sceneData.qaConfig) {
                qaConfig = sceneData.qaConfig
            }
            if (sceneData.mapConfig) {
                mapConfig = sceneData.mapConfig
            }

            if (sceneData.maps && sceneData.maps.length > 0) {
                map(sceneData.maps)
            }

            category(sceneData.categoryMap);


            $(".tabtitle a").click(function (event) {
                var index = $(this).index();
                $(this).siblings("a").removeClass("on");
                $(this).addClass("on");
                $(this).parent().siblings(".tabcontent").find("ul").removeClass("on");
                $(this).parent().siblings(".tabcontent").find("ul").eq(index).addClass("on");
                event.preventDefault();
            });
        }


        var qtObject = response.data.qtObj;
        tips(qtObject);

        if (!noresult(response)) {
            var searchResult = response.data.search;
            if (searchResult) {


                proximity(searchResult.proximitys);
                if (!response.data.scene.scene) {
                    union(searchResult.unions);
                }
                docs(searchResult.searchs);

                if (!existRelatedWord && searchResult.relatedInfo) {
                    relatedHtml(searchResult.relatedInfo);
                }

                if (
                    !response.data.scene.scene &&
                    !(response.data.assist && response.data.assist.persons && response.data.assist.persons.length > 0) &&
                    !(response.data.assist && response.data.assist.syss && response.data.assist.syss.length > 0) &&
                    !(response.data.assist && response.data.assist.orgs && response.data.assist.orgs.length > 0)
                ) {
                    news(searchResult.news)
                }


                imgSearch(searchResult.images);

                videoSearch(searchResult.videos);




                zntj();


                var totalHits = searchResult.totalHits;
                showTotal(totalHits);

                // 分页信息
                pageParam.page = response.data.param.page;
                pageParam.pageSize = response.data.param.pageSize;

                // 搜索分页
                searchPagination(paginationId, totalHits);

                // 统计
                if (true || tagParam.open) {

                    try {

                        // 左侧统计
                        tag_left(searchResult.tags);
                    } catch (e) {
                        console.error(e)
                    }

                }

            }


            // 链接记录 todo 应该在最后面
            linkClickRecord()

        } else {
            $("#" + paginationId).html("");
            if (qtObject.originQt) {
                toolParams.debug = 0;
                query()
            }
        }

        $("#loading").hide()

    }

    /**
     * 无结果判断
     */
    function noresult(response) {

        if (response && 402 == response.code) {
            location.reload();
        }

        if (flag.assist || flag.scene) {
            return false;
        }


        $(".noresult").hide();
        $("#loading_background").hide();
        if (!response || !response.ok || !response.data.search || (response.data.search.proximitys.length == 0 && response.data.search.searchs.length == 0)) {

            if (response && response.code) {
                var errorMsg = lang[response.code];
                $(".noresultDiv").html(errorMsg ? errorMsg : ""); //显示msg
            }

            clear();

            $("#loading").hide();

            $(".footerbox").css("position", "fixed");
            $(".footerbox").css("bottom", "0");

            return true
        }
        return false

    }


    function showTotal(total) {
        var totalStr = "相关结果";
        if (total > 20) {
            if (total > 10000) {
                totalStr += '约&nbsp;' + total + '&nbsp;条'
            } else if (total > 0) {
                totalStr += ' ' + total + ' &nbsp;条'
            }
            $("#toolTotalId").html(totalStr)
        } else {
            $("#toolTotalId").html("")
        }


    }

    function nullResult() {
        var data = {
            siteCode: site.siteCode,
            tab: site.tab,
            timestamp: token.timestamp,
            wordToken: token.wordToken,
            page: pageParam.page,
            pageSize: pageParam.pageSize,
            qt: $("#qt").val(),
        };

        Object.keys(toolParams).forEach(function (key) {
            data[key] = toolParams[key]
        });

        Object.keys(tagParam.param).forEach(function (key) {
            data[key] = tagParam.param[key]
        });

                Object.keys(tagParam.attrs).forEach(function (key) {
                if (!tagParam.param[key]){
                    data[key] = tagParam.attrs[key]
                }
        });

        $.ajax({
            type: "post",
            url: url_basic + "nullResult",
            headers: {
                "suid": suid
            },
            data: data,
            dataType: "json",
            success: function (response) {

                if (response && response.ok) {
                    var search = response.data.search || response.data.redis;
                    if (search && search.length > 0) {
                        var htmlStr = "";
                        for (var i = 0; i < search.length && i < 5; i++) {
                            var doc = search[i];
                            htmlStr += '<li><a target="_blank" href="' + doc.url + '">' + doc.title.trim() + '</a></li>'
                        }
                        if ("" != htmlStr) {
                            $("#nullResultList").html(htmlStr);
                            $(".noresult").hide();
                            $("#nullResultId").show()
                        }
                    }
                }

            }

        })
    }


    function pinyinDebug() {

        var data = {
            siteCode: site.siteCode,
            tab: site.tab,
            timestamp: token.timestamp,
            tabToken: token.tabToken,
            qt: $("#qt").val(),
        };

        crossDomainAjax(url_basic + "pinyin", data, PinyinResponse)

    }

    function PinyinResponse(response) {
        if (response && response.ok) {
            Pinyin(response.data)
        }
    }
</script>

<script>
    $(function (){
        //工具下拉选择
        $(".toolsli").click(function () {
            var txt = $(this).html();
            var id = $(this).parent().attr("id");
            $(this).parent().siblings("span").html(txt);
            $(this).parent().hide();
            if (id === "fileType") {
                searchTool({"fileType": txt, "toolsStatus": 1});
            } else if (id === "times") {
                if (txt === "时间不限") {
                    searchTool({"timeOption": 0, "toolsStatus": 1});
                } else if (txt === "一周内" ) {
                    searchTool({"timeOption": 1, "days": 7, "toolsStatus": 1});
                } else if (txt === "一月内" ) {
                    searchTool({"timeOption": 1, "days": 30, "toolsStatus": 1});
                } else if (txt === "一年内" ) {
                    searchTool({"timeOption": 1, "days": 365, "toolsStatus": 1});
                }
            }
        });

        // 工具栏 日期选择
        $("#datebtu").click(function () {
            var sdate = $("#utimeqsrq").val();
            var edate = $("#utimejsrq").val();
            var txt;
            if (sdate && edate) {
                txt = "自定义从" + sdate + "至" + edate;
            } else if (sdate) {
                txt = "自定义" + sdate + "至今";
            } else if (edate) {
                txt = "自定义 截止" + edate;
            }
            if (txt) {
                $(this).parent().parent().siblings("span").html(txt);
                $(this).parent().parent().hide();
                searchTool({"timeOption": 2, "startDateStr": sdate, "endDateStr": edate});
            } else {
                searchTool({"timeOption": 0});
            }

        });

        //政策文件单条更多

        //相关领导收起

        //统计信息 搜索历史展开
        $(".rec").on("click", ".countmore", function () {
            var txt = $(this).html();
            if (txt == "展开") {
                $(this).parent().siblings("ul").height("auto");
                $(this).html("收起");
                $(this).removeClass("down");
                $(this).addClass("up");
            } else if (txt == "收起") {
                $(this).parent().siblings("ul").height("140");
                $(this).html("展开");
                $(this).removeClass("up");
                $(this).addClass("down");
            }
        });
    })
</script><div>
    <style>
.swiper-container {
    display: none;
}
</style>


</div>
        <script src="http://www.stats.gov.cn/images/esdToolsInit.js" type="text/javascript"></script>
    </div>
</div>
</body>
</html>
